(()=>{"use strict";var e={426:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(15),d=n.n(o),a=n(645),c=n.n(a)()(d());c.push([e.id,'*,\n*::after,\n*::before {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n}\n\nhtml,\nbody {\n  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;\n  height: 100%;\n  font-size: 1.1rem;\n}\n\n.title {\n  border-bottom: 2px solid black;\n  padding: 30px;\n  font-size: 1.5rem;\n  color: white;\n  background-color: #444444;\n}\n\n.content {\n  display: flex;\n  height: 100%;\n  background-color: #EDEDED;\n}\n\n.todo-nav {\n  border-right: 2px solid black;\n  padding: 50px;\n  width: 300px;\n}\n\n.todo-categories li, h3 {\n  list-style-type: none;\n  padding: 15px 0;\n}\n\n.todos {\n  margin: 40px 50px;\n}\n\n#add-project {\n  margin: 10px 0px;\n}\n\nform {\n  margin: 15px 0px;\n}\n\n[data-tab-content] {\n  display: none;\n}\n\n[data-tab-content] p {\n  padding: 10px 0;\n}\n\n.active[data-tab-content] {\n  display: block;\n}\n\n.hidden {\n  display: none;\n}\n\n.empty-alert {\n  color: red;\n}\n',"",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;;;EAGE,sBAAsB;EACtB,UAAU;EACV,SAAS;AACX;;AAEA;;EAEE,4DAA4D;EAC5D,YAAY;EACZ,iBAAiB;AACnB;;AAEA;EACE,8BAA8B;EAC9B,aAAa;EACb,iBAAiB;EACjB,YAAY;EACZ,yBAAyB;AAC3B;;AAEA;EACE,aAAa;EACb,YAAY;EACZ,yBAAyB;AAC3B;;AAEA;EACE,6BAA6B;EAC7B,aAAa;EACb,YAAY;AACd;;AAEA;EACE,qBAAqB;EACrB,eAAe;AACjB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,UAAU;AACZ",sourcesContent:['*,\n*::after,\n*::before {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n}\n\nhtml,\nbody {\n  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;\n  height: 100%;\n  font-size: 1.1rem;\n}\n\n.title {\n  border-bottom: 2px solid black;\n  padding: 30px;\n  font-size: 1.5rem;\n  color: white;\n  background-color: #444444;\n}\n\n.content {\n  display: flex;\n  height: 100%;\n  background-color: #EDEDED;\n}\n\n.todo-nav {\n  border-right: 2px solid black;\n  padding: 50px;\n  width: 300px;\n}\n\n.todo-categories li, h3 {\n  list-style-type: none;\n  padding: 15px 0;\n}\n\n.todos {\n  margin: 40px 50px;\n}\n\n#add-project {\n  margin: 10px 0px;\n}\n\nform {\n  margin: 15px 0px;\n}\n\n[data-tab-content] {\n  display: none;\n}\n\n[data-tab-content] p {\n  padding: 10px 0;\n}\n\n.active[data-tab-content] {\n  display: block;\n}\n\n.hidden {\n  display: none;\n}\n\n.empty-alert {\n  color: red;\n}\n'],sourceRoot:""}]);const r=c},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var d={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(d[c]=!0)}for(var r=0;r<e.length;r++){var s=[].concat(e[r]);o&&d[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},15:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}e.exports=function(e){var n,o,d=(o=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,d,a=[],c=!0,r=!1;try{for(n=n.call(e);!(c=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);c=!0);}catch(e){r=!0,d=e}finally{try{c||null==n.return||n.return()}finally{if(r)throw d}}return a}}(n,o)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=d[1],c=d[3];if(!c)return a;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(c)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(s," */"),l=c.sources.map((function(e){return"/*# sourceURL=".concat(c.sourceRoot||"").concat(e," */")}));return[a].concat(l).concat([i]).join("\n")}return[a].join("\n")}},379:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var a={},c=[],r=0;r<e.length;r++){var s=e[r],i=o.base?s[0]+o.base:s[0],l=a[i]||0,m="".concat(i," ").concat(l);a[i]=l+1;var p=n(m),u={css:s[1],media:s[2],sourceMap:s[3]};-1!==p?(t[p].references++,t[p].updater(u)):t.push({identifier:m,updater:d(u,o),references:1}),c.push(m)}return c}function d(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,d){var a=o(e=e||[],d=d||{});return function(e){e=e||[];for(var c=0;c<a.length;c++){var r=n(a[c]);t[r].references--}for(var s=o(e,d),i=0;i<a.length;i++){var l=n(a[i]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=s}}},569:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o=n.css,d=n.media,a=n.sourceMap;d?e.setAttribute("media",d):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(o,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(o){var d=t[o];if(void 0!==d)return d.exports;var a=t[o]={id:o,exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(379),t=n.n(e),o=n(795),d=n.n(o),a=n(569),c=n.n(a),r=n(565),s=n.n(r),i=n(216),l=n.n(i),m=n(589),p=n.n(m),u=n(426),h={};h.styleTagTransform=p(),h.setAttributes=s(),h.insert=c().bind(null,"head"),h.domAPI=d(),h.insertStyleElement=l(),t()(u.Z,h),u.Z&&u.Z.locals&&u.Z.locals;class g{constructor(e,t,n){this.description=e,this.dueDate=t,this.completed=!1,this.id=Date.now()}setDescription(e){this.description=e}getDescription(){return this.description}setDate(){this.dueDate=dueDate}getDate(){return this.dueDate}setCompleted(){this.completed?this.completed=!1:this.completed=!0}getCompleted(){return this.completed}getID(){return this.id}}class y{constructor(e){this.name=e,this.tasks=[]}setName(e){this.name=e}getName(){return this.name}setTasks(e){this.tasks=e}getTasks(){return this.tasks}addTask(e){this.tasks.push(e)}}class E{static collection=[];static todayCollection=[];static weekCollection=[];static initializeProjectsTab(){const e=E.allProjectsStorage();if(e){E.createForm(),E.formPopUp(),E.submitToProjects(),E.cancelSubmission();const t=document.getElementById("add-project"),n=document.getElementById("project-description"),o=document.getElementById("projects-tab"),d=document.getElementById("projects-form"),a=document.getElementById("todos");console.log(e),e.forEach((e=>{console.log(e);const c=JSON.parse(e);Object.setPrototypeOf(c,new y),console.log(c),E.renderProjects(c,a,o,n,d,t);const r=document.getElementById(`add-task-to-${c.getName()}`),s=document.getElementById(`task-description-${c.getName()}`),i=document.getElementById(`dueDate-${c.getName()}`),l=document.getElementById(`${c.getName()}-form`),m=document.getElementById(`${c.getName()}`);console.log("proj Div",m),c.getTasks().forEach((e=>{e&&(Object.setPrototypeOf(e,new g),console.log(e),E.renderTasks(e,c,m,s,i,l,r))}))}))}else E.createForm(),E.formPopUp(),E.submitToProjects(),E.cancelSubmission()}static allProjectsStorage(){let e=[];const t=Object.keys(localStorage);let n=t.length;for(;n--;)e.push(localStorage.getItem(t[n]));return e}static storageUpdateProject(e){console.log(e),localStorage.setItem(`${e.getName()}`,JSON.stringify(e))}static renderProjects(e,t,n,o,d,a){E.collection.push(e);const c=document.createElement("li");c.setAttribute("data-tab-target",`${e.getName()}`),c.textContent=`${e.getName()}`;const r=document.createElement("div");r.id=`${e.getName()}`,r.setAttribute("data-tab-content","");const s=document.createElement("h3");s.textContent=`${e.getName()}`;const i=document.createElement("p");i.textContent="+ Add Task",i.id=`add-task-to-${e.getName()}`,r.appendChild(s),r.appendChild(i),t.appendChild(r),n.insertBefore(c,a),o.value="",d.classList.add("hidden");const l=document.createElement("form"),m=document.getElementById(`${e.getName()}`);E.addFormToProject(e,l,m),E.projectFormPopUp(i,l),E.submitTaskToProject(e,m),E.switchCategory()}static renderTasks(e,t,n,o,d,a,c){const r=document.createElement("p");r.id=e.getID();const s=`${e.getDescription()} ${e.getCompleted()}`;r.innerHTML=`<input type="checkbox" id="${s}">\n                                            <p>${e.getDescription()} | due: ${e.getDate()}</p>\n                                            <button id='del-${e.getID()}'>delete</button>`;const i=r.childNodes;for(let e=0;e<i.length;e++)i[e].style&&i[e].style.setProperty("display","inline");n.insertBefore(r,c),o.value="",d.value="",a.classList.add("hidden"),E.addToToday(e),E.addToWeek(e),E.deleteTask(e.getID(),t),E.checkDone(s)}static createForm(){const e=document.createElement("form"),t=document.getElementById("projects-tab");e.innerHTML='\n                <form action="#">\n                    <input type="text" id="project-description" name="description" placeholder="project" />\n                    <button type="submit" id="projects-submit-btn">Submit</button>\n                    <button type="button" id="projects-cancel-btn">Cancel</button>\n                </form>\n            ',e.classList.add("hidden"),e.id="projects-form",t.appendChild(e)}static formPopUp(){const e=document.getElementById("add-project"),t=document.getElementById("projects-form");e.addEventListener("click",(()=>{e.classList.add("hidden"),t.classList.remove("hidden")}))}static submitToProjects(){const e=document.getElementById("projects-submit-btn"),t=document.getElementById("add-project"),n=document.getElementById("project-description"),o=document.getElementById("projects-tab"),d=document.getElementById("projects-form"),a=document.getElementById("todos");e.addEventListener("click",(e=>{if(e.preventDefault(),t.classList.remove("hidden"),""===n.value)E.checkFields();else if(E.collection.some((e=>e.getName()===n.value)))alert("This project already exists!");else{const e=new y(n.value);E.renderProjects(e,a,o,n,d,t),E.storageUpdateProject(e)}}))}static checkFields(){const e=document.getElementById("add-project"),t=document.getElementById("projects-tab"),n=document.querySelector(".empty-alert");if(e.classList.add("hidden"),n)return;const o=document.createElement("p");o.textContent="Please enter the title of the project.",o.classList.add("empty-alert"),t.appendChild(o),setTimeout((function(){t.removeChild(o)}),2e3)}static checkInboxFields(e,t){const n=document.querySelector(".empty-alert");if(e.classList.add("hidden"),n)return;const o=document.createElement("p");o.textContent="Please enter the description and due date of the task.",o.classList.add("empty-alert"),t.appendChild(o),setTimeout((function(){t.removeChild(o)}),2e3)}static cancelSubmission(){const e=document.getElementById("projects-cancel-btn"),t=document.getElementById("add-project"),n=document.getElementById("projects-form");e.addEventListener("click",(()=>{t.classList.remove("hidden"),n.classList.add("hidden")}))}static cancelForm(e){const t=document.getElementById(`${e.getName()}-cancel-btn`),n=document.getElementById(`add-task-to-${e.getName()}`),o=document.getElementById(`${e.getName()}-form`);t.addEventListener("click",(()=>{n.classList.remove("hidden"),o.classList.add("hidden")}))}static addFormToProject(e,t,n){t.innerHTML=`\n        <form action="#">\n            <input type="text" id="task-description-${e.getName()}" name="description" placeholder="task" />\n            <input type="date" id="dueDate-${e.getName()}" name="dueDate" placeholder="due date" />\n            <button type="submit" id="${e.getName()}-submit-btn">Submit</button>\n            <button type="button" id="${e.getName()}-cancel-btn">Cancel</button>\n        </form>`,t.classList.add("hidden"),t.id=`${e.getName()}-form`,n.appendChild(t),E.cancelForm(e)}static projectFormPopUp(e,t){e.addEventListener("click",(()=>{e.classList.add("hidden"),t.classList.remove("hidden")}))}static submitTaskToProject(e,t){const n=document.getElementById(`${e.getName()}-submit-btn`),o=document.getElementById(`add-task-to-${e.getName()}`),d=document.getElementById(`task-description-${e.getName()}`),a=document.getElementById(`dueDate-${e.getName()}`),c=document.getElementById(`${e.getName()}-form`);n.addEventListener("click",(n=>{if(n.preventDefault(),o.classList.remove("hidden"),""===d.value||""===a.value)E.checkInboxFields(o,t);else if(e.getTasks().some((e=>e.getDescription()===d.value)))alert("This todo already exists!"),d.value="",a.value="",c.classList.add("hidden");else{const n=new g(d.value,a.value);e.addTask(n),E.storageUpdateProject(e),E.renderTasks(n,e,t,d,a,c,o)}}))}static checkDone(e){const t=document.getElementById(e),n=document.getElementById(`${e}-clone`),o=document.getElementById(`${e}-clone-week`);t.addEventListener("change",(()=>{t.checked?(t.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),n&&(n.checked=!0,n.parentElement.childNodes[2].style.setProperty("text-decoration","line-through")),o&&(o.checked=!0,o.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"))):(t.parentElement.childNodes[2].style.setProperty("text-decoration","none"),n&&(n.checked=!1,n.parentElement.childNodes[2].style.setProperty("text-decoration","none")),o&&(o.checked=!1,o.parentElement.childNodes[2].style.setProperty("text-decoration","none")))})),n&&n.addEventListener("change",(()=>{n.checked?(n.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),t.checked=!0,t.parentElement.childNodes[2].style.setProperty("text-decoration","line-through")):(n.parentElement.childNodes[2].style.setProperty("text-decoration","none"),t.checked=!1,t.parentElement.childNodes[2].style.setProperty("text-decoration","none"))})),o&&o.addEventListener("change",(()=>{o.checked?(o.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),t.checked=!0,t.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),n&&(n.checked=!0,n.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"))):(o.parentElement.childNodes[2].style.setProperty("text-decoration","none"),t.checked=!1,t.parentElement.childNodes[2].style.setProperty("text-decoration","none"),n&&(n.checked=!1,n.parentElement.childNodes[2].style.setProperty("text-decoration","none")))}))}static deleteTask(e,t){const n=document.getElementById(`del-${e}`),o=document.getElementById(`del-${e}-clone`),d=document.getElementById(`del-${e}-clone-week`);n.addEventListener("click",(n=>{n.target.parentElement.remove(),o&&o.parentElement.remove(),d&&d.parentElement.remove(),t.getTasks().splice(t.getTasks().findIndex((t=>t.getID()===e)),1),E.storageUpdateProject(t)})),o&&o.addEventListener("click",(o=>{o.target.parentElement.remove(),n.parentElement.remove(),d&&d.parentElement.remove(),t.getTasks().splice(t.getTasks().findIndex((t=>t.getID()===e)),1),E.storageUpdateProject(t)})),d&&d.addEventListener("click",(d=>{d.target.parentElement.remove(),n.parentElement.remove(),o&&o.parentElement.remove(),t.getTasks().splice(t.getTasks().findIndex((t=>t.getID()===e)),1),E.storageUpdateProject(t)}))}static addToToday(e){const t=E.collection,n=document.getElementById("today-content"),o=document.createElement("div"),d=`${e.getDescription()} ${e.getCompleted()}-clone`;o.id=`${e.getID()}-clone`,o.innerHTML=`<input type="checkbox" id="${d}">\n                                <p>${e.getDescription()} | due: ${e.getDate()}</p>\n                                <button id='del-${e.getID()}-clone'>delete</button>`;const a=o.childNodes;for(let e=0;e<a.length;e++)a[e].style&&a[e].style.setProperty("display","inline");console.log("lets see if project contains task",t),t.forEach((e=>{e.getTasks().forEach((e=>{Number(e.dueDate.slice(-2))!==(new Date).getDate()||E.todayCollection.includes(e)||(E.todayCollection.push(e),n.appendChild(o))}))}))}static addToWeek(e){const t=E.collection,n=document.getElementById("this-week-content"),o=document.createElement("div"),d=`${e.getDescription()} ${e.getCompleted()}-clone-week`;o.id=`${e.getID()}-clone-week`,o.innerHTML=`<input type="checkbox" id="${d}">\n                                <p>${e.getDescription()} | due: ${e.getDate()}</p>\n                                <button id='del-${e.getID()}-clone-week'>delete</button>`;const a=o.childNodes;for(let e=0;e<a.length;e++)a[e].style&&a[e].style.setProperty("display","inline");t.forEach((e=>{e.getTasks().forEach((e=>{Number(e.dueDate.slice(-2))-(new Date).getDate()<=7&&!E.weekCollection.includes(e)&&(E.weekCollection.push(e),n.appendChild(o))}))}))}static switchCategory(){const e=document.querySelectorAll("[data-tab-target]"),t=document.querySelectorAll("[data-tab-content]");e.forEach((e=>{e.addEventListener("click",(()=>{const n=document.getElementById(e.dataset.tabTarget);t.forEach((e=>{e.classList.remove("active")})),n.classList.add("active")}))}))}}class f{static defaultProject=new y("default");static initializeInboxTab(){f.createForm(),f.formPopUp(),f.submitToInbox(),f.cancelForm(),f.addDefaultProject()}static addDefaultProject(){E.collection.push(f.defaultProject)}static renderTasks(e,t,n,o,d,a){const c=document.createElement("div");c.id=e.getID();const r=`${e.getDescription()} ${e.getCompleted()}`;c.innerHTML=`<input type="checkbox" id="${r}">\n                                            <p>${e.getDescription()} | due: ${e.getDate()}</p>\n                                            <button id='del-${e.getID()}'>delete</button>`;const s=c.childNodes;for(let e=0;e<s.length;e++)s[e].style&&s[e].style.setProperty("display","inline");t.insertBefore(c,a),n.value="",o.value="",d.classList.add("hidden"),f.addToToday(e),f.addToWeek(e),f.deleteTask(e.getID()),f.checkDone(r)}static createForm(){const e=document.createElement("form"),t=document.getElementById("inbox");e.innerHTML='\n                <form action="#">\n                    <input type="text" id="task-description" name="description" placeholder="task" />\n                    <input type="date" id="dueDate" name="dueDate" placeholder="due date" />\n                    <button type="submit" id="inbox-submit-btn">Submit</button>\n                    <button type="button" id="inbox-cancel-btn">Cancel</button>\n                </form>\n            ',e.classList.add("hidden"),e.id="inbox-form",t.appendChild(e)}static formPopUp(){const e=document.getElementById("add-task"),t=document.getElementById("inbox-form");e.addEventListener("click",(()=>{e.classList.add("hidden"),t.classList.remove("hidden")}))}static submitToInbox(){const e=document.getElementById("inbox-submit-btn"),t=document.getElementById("add-task"),n=document.getElementById("task-description"),o=document.getElementById("dueDate"),d=document.getElementById("inbox-form"),a=document.getElementById("inbox");e.addEventListener("click",(e=>{if(e.preventDefault(),t.classList.remove("hidden"),""===n.value||""===o.value)f.checkFields(t,a);else if(f.defaultProject.getTasks().some((e=>e.getDescription()===n.value)))alert("This todo already exists!"),n.value="",o.value="",d.classList.add("hidden");else{const e=new g(n.value,o.value);f.defaultProject.addTask(e),f.renderTasks(e,a,n,o,d,t)}}))}static addToToday(e){const t=E.collection,n=document.getElementById("today-content"),o=document.createElement("div"),d=`${e.getDescription()} ${e.getCompleted()}-clone`;o.id=`${e.getID()}-clone`,o.innerHTML=`<input type="checkbox" id="${d}">\n                                <p>${e.getDescription()} | due: ${e.getDate()}</p>\n                                <button id='del-${e.getID()}-clone'>delete</button>`;const a=o.childNodes;for(let e=0;e<a.length;e++)a[e].style&&a[e].style.setProperty("display","inline");t.forEach((e=>{e.getTasks().forEach((e=>{Number(e.dueDate.slice(-2))!==(new Date).getDate()||E.todayCollection.includes(e)||(E.todayCollection.push(e),n.appendChild(o))}))}))}static addToWeek(e){const t=E.collection,n=document.getElementById("this-week-content"),o=document.createElement("div"),d=`${e.getDescription()} ${e.getCompleted()}-clone-week`;o.id=`${e.getID()}-clone-week`,o.innerHTML=`<input type="checkbox" id="${d}">\n                                <p>${e.getDescription()} | due: ${e.getDate()}</p>\n                                <button id='del-${e.getID()}-clone-week'>delete</button>`;const a=o.childNodes;for(let e=0;e<a.length;e++)a[e].style&&a[e].style.setProperty("display","inline");t.forEach((e=>{e.getTasks().forEach((e=>{Number(e.dueDate.slice(-2))-(new Date).getDate()<=7&&!E.weekCollection.includes(e)&&(E.weekCollection.push(e),n.appendChild(o))}))}))}static checkDone(e){const t=document.getElementById(e),n=document.getElementById(`${e}-clone`),o=document.getElementById(`${e}-clone-week`);t.addEventListener("change",(()=>{t.checked?(t.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),n&&(n.checked=!0,n.parentElement.childNodes[2].style.setProperty("text-decoration","line-through")),o&&(o.checked=!0,o.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"))):(t.parentElement.childNodes[2].style.setProperty("text-decoration","none"),n&&(n.checked=!1,n.parentElement.childNodes[2].style.setProperty("text-decoration","none")),o&&(o.checked=!1,o.parentElement.childNodes[2].style.setProperty("text-decoration","none")))})),n&&n.addEventListener("change",(()=>{n.checked?(n.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),t.checked=!0,t.parentElement.childNodes[2].style.setProperty("text-decoration","line-through")):(n.parentElement.childNodes[2].style.setProperty("text-decoration","none"),t.checked=!1,t.parentElement.childNodes[2].style.setProperty("text-decoration","none"))})),o&&o.addEventListener("change",(()=>{o.checked?(o.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),t.checked=!0,t.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),n&&(n.checked=!0,n.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"))):(o.parentElement.childNodes[2].style.setProperty("text-decoration","none"),t.checked=!1,t.parentElement.childNodes[2].style.setProperty("text-decoration","none"),n&&(n.checked=!1,n.parentElement.childNodes[2].style.setProperty("text-decoration","none")))}))}static deleteTask(e){const t=document.getElementById(`del-${e}`),n=document.getElementById(`del-${e}-clone`),o=document.getElementById(`del-${e}-clone-week`);t.addEventListener("click",(t=>{t.target.parentElement.remove(),n&&n.parentElement.remove(),o&&o.parentElement.remove(),f.defaultProject.getTasks().splice(f.defaultProject.getTasks().findIndex((t=>t.getID()===e)),1)})),n&&n.addEventListener("click",(n=>{n.target.parentElement.remove(),t.parentElement.remove(),o&&o.parentElement.remove(),f.defaultProject.getTasks().splice(f.defaultProject.getTasks().findIndex((t=>t.getID()===e)),1)})),o&&o.addEventListener("click",(o=>{o.target.parentElement.remove(),t.parentElement.remove(),n&&n.parentElement.remove(),f.defaultProject.getTasks().splice(f.defaultProject.getTasks().findIndex((t=>t.getID()===e)),1)}))}static checkFields(e,t){const n=document.querySelector(".empty-alert");if(e.classList.add("hidden"),n)return;const o=document.createElement("p");o.textContent="Please enter the description and due date of the task.",o.classList.add("empty-alert"),t.appendChild(o),setTimeout((function(){t.removeChild(o)}),2e3)}static cancelForm(){const e=document.getElementById("inbox-cancel-btn"),t=document.getElementById("add-task"),n=document.getElementById("inbox-form");e.addEventListener("click",(()=>{t.classList.remove("hidden"),n.classList.add("hidden")}))}}class b{static loadHomepage(){b.switchCategory(),f.initializeInboxTab(),E.initializeProjectsTab()}static switchCategory(){const e=document.querySelectorAll("[data-tab-target]"),t=document.querySelectorAll("[data-tab-content]");e.forEach((e=>{e.addEventListener("click",(()=>{const n=document.getElementById(e.dataset.tabTarget);t.forEach((e=>{e.classList.remove("active")})),n.classList.add("active")}))}))}}document.addEventListener("DOMContentLoaded",b.loadHomepage)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3N0eWxlLmNzcz83MTYzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL1Rhc2suanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvUHJvamVjdC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9Qcm9qZWN0c1VJLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL0luYm94VUkuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvSW5pdGlhbGl6ZVVJLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsImV4cG9ydHMiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwiY29uY2F0Iiwiam9pbiIsImkiLCJtb2R1bGVzIiwibWVkaWFRdWVyeSIsImRlZHVwZSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJsZW5ndGgiLCJfaSIsIl9hcnJheUxpa2VUb0FycmF5IiwiYXJyIiwibGVuIiwiYXJyMiIsIkFycmF5IiwiX2l0ZW0iLCJpc0FycmF5IiwiX2FycmF5V2l0aEhvbGVzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfcyIsIl9lIiwiX2FyciIsIl9uIiwiX2QiLCJjYWxsIiwibmV4dCIsImRvbmUiLCJ2YWx1ZSIsImVyciIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIm8iLCJtaW5MZW4iLCJuIiwiT2JqZWN0IiwicHJvdG90eXBlIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJmcm9tIiwidGVzdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIlR5cGVFcnJvciIsIl9ub25JdGVyYWJsZVJlc3QiLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290Iiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkU3R5bGUiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwic3BsaWNlIiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsIm5vbmNlIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0U3R5bGVFbGVtZW50IiwicmVtb3ZlQXR0cmlidXRlIiwic3R5bGVUYWdUcmFuc2Zvcm0iLCJhcHBseSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZVN0eWxlRWxlbWVudCIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiZmlyc3RDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJUYXNrIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwiY29tcGxldGVkIiwiRGF0ZSIsIm5vdyIsInNldERlc2NyaXB0aW9uIiwiZ2V0RGVzY3JpcHRpb24iLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInNldENvbXBsZXRlZCIsImdldENvbXBsZXRlZCIsImdldElEIiwiUHJvamVjdCIsInRhc2tzIiwic2V0TmFtZSIsImdldE5hbWUiLCJzZXRUYXNrcyIsImdldFRhc2tzIiwiYWRkVGFzayIsInRhc2siLCJQcm9qZWN0c1RhYiIsImFsbFByb2plY3RzU3RvcmFnZSIsImNyZWF0ZUZvcm0iLCJmb3JtUG9wVXAiLCJzdWJtaXRUb1Byb2plY3RzIiwiY2FuY2VsU3VibWlzc2lvbiIsImFkZFByb2plY3RCdG4iLCJnZXRFbGVtZW50QnlJZCIsInByb2plY3RzVGFiIiwiZm9ybSIsInRvZG9zIiwiY29uc29sZSIsImxvZyIsImZvckVhY2giLCJwcm9qZWN0IiwicHJvamVjdEpTT04iLCJwYXJzZSIsInNldFByb3RvdHlwZU9mIiwicmVuZGVyUHJvamVjdHMiLCJhZGRUYXNrQnRuIiwidGFza2Rlc2NyaXB0aW9uIiwidGFza2Zvcm0iLCJwcm9qZWN0RGl2IiwicmVuZGVyVGFza3MiLCJ2YWx1ZXMiLCJrZXlzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJjb2xsZWN0aW9uIiwicHJvamVjdERPTUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsInRhYkNvbnRlbnQiLCJwcm9qZWN0VGl0bGUiLCJhZGRUYXNrVG9Qcm9qZWN0IiwiaW5zZXJ0QmVmb3JlIiwiY2xhc3NMaXN0IiwiYWRkIiwicHJvamVjdEZvcm0iLCJhZGRGb3JtVG9Qcm9qZWN0IiwicHJvamVjdEZvcm1Qb3BVcCIsInN1Ym1pdFRhc2tUb1Byb2plY3QiLCJzd2l0Y2hDYXRlZ29yeSIsInRhc2tET01FbGVtZW50IiwiaXNEb25lIiwiaW5uZXJIVE1MIiwibm9kZXMiLCJjaGlsZE5vZGVzIiwic2V0UHJvcGVydHkiLCJhZGRUb1RvZGF5IiwiYWRkVG9XZWVrIiwiZGVsZXRlVGFzayIsImNoZWNrRG9uZSIsInByb2plY3RzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN1Ym1pdEJ0biIsInByZXZlbnREZWZhdWx0IiwiY2hlY2tGaWVsZHMiLCJzb21lIiwiYWxlcnQiLCJzdG9yYWdlVXBkYXRlUHJvamVjdCIsImFsZXJ0RXhpc3RzIiwibm90aWZ5RmllbGRzIiwic2V0VGltZW91dCIsImluYm94IiwiY2FuY2VsUHJvamVjdEJ0biIsImNhbmNlbFRhc2tCdG4iLCJjYW5jZWxGb3JtIiwiY2hlY2tJbmJveEZpZWxkcyIsImNoZWNrYm94IiwiY2hlY2tib3hDbG9uZSIsImNoZWNrYm94Q2xvbmVXZWVrIiwiY2hlY2tlZCIsInBhcmVudEVsZW1lbnQiLCJidG4iLCJidG5DbG9uZSIsImJ0bkNsb25lV2VlayIsImZpbmRJbmRleCIsInRhc2tDbG9uZSIsIk51bWJlciIsInRvZGF5Q29sbGVjdGlvbiIsImluY2x1ZGVzIiwid2Vla0NvbGxlY3Rpb24iLCJ0YWJzIiwicXVlcnlTZWxlY3RvckFsbCIsInRhYkNvbnRlbnRzIiwidGFiIiwiZGF0YXNldCIsInRhYlRhcmdldCIsIkluYm94VGFiIiwic3VibWl0VG9JbmJveCIsImFkZERlZmF1bHRQcm9qZWN0IiwiZGVmYXVsdFByb2plY3QiLCJVSSIsImxvYWRIb21lcGFnZSJdLCJtYXBwaW5ncyI6InVGQUdJQSxFLE1BQTBCLEdBQTRCLEtBRTFEQSxFQUF3QkMsS0FBSyxDQUFDQyxFQUFPQyxHQUFJLGc2QkFB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QWlCLHNCQUU5Q0QsRUFBS3RFLFNBQVF5RSxJQUNUQSxFQUFJaEMsaUJBQWlCLFNBQVMsS0FDMUIsTUFBTXhILEVBQVNFLFNBQVN1RSxlQUFlK0UsRUFBSUMsUUFBUUMsV0FDbkRILEVBQVl4RSxTQUFRbUIsSUFDaEJBLEVBQVdJLFVBQVUvRyxPQUFPLGFBRWhDUyxFQUFPc0csVUFBVUMsSUFBSSxpQkNsQnJDckcsU0FBU3NILGlCQUFpQixtQkFBb0J1QyxFQUFHQyxlIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIiosXFxuKjo6YWZ0ZXIsXFxuKjo6YmVmb3JlIHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWFyZ2luOiAwO1xcbn1cXG5cXG5odG1sLFxcbmJvZHkge1xcbiAgZm9udC1mYW1pbHk6IFxcXCJTZWdvZSBVSVxcXCIsIFRhaG9tYSwgR2VuZXZhLCBWZXJkYW5hLCBzYW5zLXNlcmlmO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgZm9udC1zaXplOiAxLjFyZW07XFxufVxcblxcbi50aXRsZSB7XFxuICBib3JkZXItYm90dG9tOiAycHggc29saWQgYmxhY2s7XFxuICBwYWRkaW5nOiAzMHB4O1xcbiAgZm9udC1zaXplOiAxLjVyZW07XFxuICBjb2xvcjogd2hpdGU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0NDQ0O1xcbn1cXG5cXG4uY29udGVudCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0VERURFRDtcXG59XFxuXFxuLnRvZG8tbmF2IHtcXG4gIGJvcmRlci1yaWdodDogMnB4IHNvbGlkIGJsYWNrO1xcbiAgcGFkZGluZzogNTBweDtcXG4gIHdpZHRoOiAzMDBweDtcXG59XFxuXFxuLnRvZG8tY2F0ZWdvcmllcyBsaSwgaDMge1xcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xcbiAgcGFkZGluZzogMTVweCAwO1xcbn1cXG5cXG4udG9kb3Mge1xcbiAgbWFyZ2luOiA0MHB4IDUwcHg7XFxufVxcblxcbiNhZGQtcHJvamVjdCB7XFxuICBtYXJnaW46IDEwcHggMHB4O1xcbn1cXG5cXG5mb3JtIHtcXG4gIG1hcmdpbjogMTVweCAwcHg7XFxufVxcblxcbltkYXRhLXRhYi1jb250ZW50XSB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG5bZGF0YS10YWItY29udGVudF0gcCB7XFxuICBwYWRkaW5nOiAxMHB4IDA7XFxufVxcblxcbi5hY3RpdmVbZGF0YS10YWItY29udGVudF0ge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbi5oaWRkZW4ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLmVtcHR5LWFsZXJ0IHtcXG4gIGNvbG9yOiByZWQ7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7OztFQUdFLHNCQUFzQjtFQUN0QixVQUFVO0VBQ1YsU0FBUztBQUNYOztBQUVBOztFQUVFLDREQUE0RDtFQUM1RCxZQUFZO0VBQ1osaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsOEJBQThCO0VBQzlCLGFBQWE7RUFDYixpQkFBaUI7RUFDakIsWUFBWTtFQUNaLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixZQUFZO0VBQ1oseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsNkJBQTZCO0VBQzdCLGFBQWE7RUFDYixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UsVUFBVTtBQUNaXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIiosXFxuKjo6YWZ0ZXIsXFxuKjo6YmVmb3JlIHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWFyZ2luOiAwO1xcbn1cXG5cXG5odG1sLFxcbmJvZHkge1xcbiAgZm9udC1mYW1pbHk6IFxcXCJTZWdvZSBVSVxcXCIsIFRhaG9tYSwgR2VuZXZhLCBWZXJkYW5hLCBzYW5zLXNlcmlmO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgZm9udC1zaXplOiAxLjFyZW07XFxufVxcblxcbi50aXRsZSB7XFxuICBib3JkZXItYm90dG9tOiAycHggc29saWQgYmxhY2s7XFxuICBwYWRkaW5nOiAzMHB4O1xcbiAgZm9udC1zaXplOiAxLjVyZW07XFxuICBjb2xvcjogd2hpdGU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0NDQ0O1xcbn1cXG5cXG4uY29udGVudCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0VERURFRDtcXG59XFxuXFxuLnRvZG8tbmF2IHtcXG4gIGJvcmRlci1yaWdodDogMnB4IHNvbGlkIGJsYWNrO1xcbiAgcGFkZGluZzogNTBweDtcXG4gIHdpZHRoOiAzMDBweDtcXG59XFxuXFxuLnRvZG8tY2F0ZWdvcmllcyBsaSwgaDMge1xcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xcbiAgcGFkZGluZzogMTVweCAwO1xcbn1cXG5cXG4udG9kb3Mge1xcbiAgbWFyZ2luOiA0MHB4IDUwcHg7XFxufVxcblxcbiNhZGQtcHJvamVjdCB7XFxuICBtYXJnaW46IDEwcHggMHB4O1xcbn1cXG5cXG5mb3JtIHtcXG4gIG1hcmdpbjogMTVweCAwcHg7XFxufVxcblxcbltkYXRhLXRhYi1jb250ZW50XSB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG5bZGF0YS10YWItY29udGVudF0gcCB7XFxuICBwYWRkaW5nOiAxMHB4IDA7XFxufVxcblxcbi5hY3RpdmVbZGF0YS10YWItY29udGVudF0ge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbi5oaWRkZW4ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLmVtcHR5LWFsZXJ0IHtcXG4gIGNvbG9yOiByZWQ7XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07IGlmIChfaSA9PSBudWxsKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX3MsIF9lOyB0cnkgeyBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKSB7XG4gIHZhciBfaXRlbSA9IF9zbGljZWRUb0FycmF5KGl0ZW0sIDQpLFxuICAgICAgY29udGVudCA9IF9pdGVtWzFdLFxuICAgICAgY3NzTWFwcGluZyA9IF9pdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuXG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuXG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuXG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhzdHlsZSwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICByZXR1cm4gc3R5bGU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZSkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZShcIm1lZGlhXCIpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGUpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlLCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZSkge1xuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFzayB7XG4gICAgY29uc3RydWN0b3IoZGVzY3JpcHRpb24sIGR1ZURhdGUsIGNvbXBsZXRlZCkge1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb25cbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZVxuICAgICAgICB0aGlzLmNvbXBsZXRlZCA9IGZhbHNlXG4gICAgICAgIHRoaXMuaWQgPSBEYXRlLm5vdygpXG4gICAgfVxuXG4gICAgc2V0RGVzY3JpcHRpb24oZGVzY3JpcHRpb24pIHtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uXG4gICAgfVxuXG4gICAgZ2V0RGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlc2NyaXB0aW9uXG4gICAgfVxuXG4gICAgc2V0RGF0ZSgpIHtcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZVxuICAgIH1cblxuICAgIGdldERhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmR1ZURhdGVcbiAgICB9XG5cbiAgICBzZXRDb21wbGV0ZWQoKSB7XG4gICAgICAgIHRoaXMuY29tcGxldGVkID8gdGhpcy5jb21wbGV0ZWQgPSBmYWxzZSA6IHRoaXMuY29tcGxldGVkID0gdHJ1ZVxuICAgIH1cblxuICAgIGdldENvbXBsZXRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGVkXG4gICAgfVxuXG4gICAgZ2V0SUQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkXG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2plY3Qge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZVxuICAgICAgICB0aGlzLnRhc2tzID0gW11cbiAgICB9XG5cbiAgICBzZXROYW1lKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZVxuICAgIH1cblxuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWVcbiAgICB9XG5cbiAgICBzZXRUYXNrcyh0YXNrcykge1xuICAgICAgICB0aGlzLnRhc2tzID0gdGFza3NcbiAgICB9XG5cbiAgICBnZXRUYXNrcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGFza3NcbiAgICB9XG5cbiAgICBhZGRUYXNrKHRhc2spIHtcbiAgICAgICAgdGhpcy50YXNrcy5wdXNoKHRhc2spXG4gICAgfVxufSIsImltcG9ydCBUYXNrIGZyb20gJy4vVGFzaydcbmltcG9ydCBQcm9qZWN0IGZyb20gJy4vUHJvamVjdCdcbmltcG9ydCBJbmJveFVJIGZyb20gJy4vSW5ib3hVSSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvamVjdHNUYWIge1xuICAgIHN0YXRpYyBjb2xsZWN0aW9uID0gW11cbiAgICBzdGF0aWMgdG9kYXlDb2xsZWN0aW9uID0gW11cbiAgICBzdGF0aWMgd2Vla0NvbGxlY3Rpb24gPSBbXVxuXG4gICAgc3RhdGljIGluaXRpYWxpemVQcm9qZWN0c1RhYigpIHtcblxuICAgICAgICBjb25zdCBhbGxQcm9qZWN0c1N0b3JhZ2UgPSBQcm9qZWN0c1RhYi5hbGxQcm9qZWN0c1N0b3JhZ2UoKVxuXG4gICAgICAgIGlmICghYWxsUHJvamVjdHNTdG9yYWdlKSB7XG4gICAgICAgICAgICBQcm9qZWN0c1RhYi5jcmVhdGVGb3JtKClcbiAgICAgICAgICAgIFByb2plY3RzVGFiLmZvcm1Qb3BVcCgpXG4gICAgICAgICAgICBQcm9qZWN0c1RhYi5zdWJtaXRUb1Byb2plY3RzKClcbiAgICAgICAgICAgIFByb2plY3RzVGFiLmNhbmNlbFN1Ym1pc3Npb24oKVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgUHJvamVjdHNUYWIuY3JlYXRlRm9ybSgpXG4gICAgICAgICAgICBQcm9qZWN0c1RhYi5mb3JtUG9wVXAoKVxuICAgICAgICAgICAgUHJvamVjdHNUYWIuc3VibWl0VG9Qcm9qZWN0cygpXG4gICAgICAgICAgICBQcm9qZWN0c1RhYi5jYW5jZWxTdWJtaXNzaW9uKClcblxuICAgICAgICAgICAgY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtcHJvamVjdCcpXG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0LWRlc2NyaXB0aW9uJylcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RzVGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RzLXRhYicpXG4gICAgICAgICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RzLWZvcm0nKVxuICAgICAgICAgICAgY29uc3QgdG9kb3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kb3MnKVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhbGxQcm9qZWN0c1N0b3JhZ2UpXG5cbiAgICAgICAgICAgIGFsbFByb2plY3RzU3RvcmFnZS5mb3JFYWNoKHByb2plY3QgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb2plY3QpXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdEpTT04gPSBKU09OLnBhcnNlKHByb2plY3QpXG4gICAgICAgICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHByb2plY3RKU09OLCBuZXcgUHJvamVjdClcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0SlNPTilcblxuICAgICAgICAgICAgICAgIFByb2plY3RzVGFiLnJlbmRlclByb2plY3RzKHByb2plY3RKU09OLCB0b2RvcywgcHJvamVjdHNUYWIsIGRlc2NyaXB0aW9uLCBmb3JtLCBhZGRQcm9qZWN0QnRuKVxuXG4gICAgICAgICAgICAgICAgY29uc3QgYWRkVGFza0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBhZGQtdGFzay10by0ke3Byb2plY3RKU09OLmdldE5hbWUoKX1gKVxuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB0YXNrLWRlc2NyaXB0aW9uLSR7cHJvamVjdEpTT04uZ2V0TmFtZSgpfWApXG4gICAgICAgICAgICAgICAgY29uc3QgZHVlRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBkdWVEYXRlLSR7cHJvamVjdEpTT04uZ2V0TmFtZSgpfWApXG4gICAgICAgICAgICAgICAgY29uc3QgdGFza2Zvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtwcm9qZWN0SlNPTi5nZXROYW1lKCl9LWZvcm1gKVxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3REaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtwcm9qZWN0SlNPTi5nZXROYW1lKCl9YClcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwcm9qIERpdicsIHByb2plY3REaXYpXG5cbiAgICAgICAgICAgICAgICBwcm9qZWN0SlNPTi5nZXRUYXNrcygpLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGFzaywgbmV3IFRhc2spXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0YXNrKVxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvamVjdHNUYWIucmVuZGVyVGFza3ModGFzaywgcHJvamVjdEpTT04sIHByb2plY3REaXYsIHRhc2tkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgdGFza2Zvcm0sIGFkZFRhc2tCdG4pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBhbGxQcm9qZWN0c1N0b3JhZ2UoKSB7XG5cbiAgICAgICAgbGV0IHZhbHVlcyA9IFtdXG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpXG4gICAgICAgIGxldCBpID0ga2V5cy5sZW5ndGhcbiAgICAgICAgd2hpbGUgKGktLSkge1xuXG4gICAgICAgICAgICB2YWx1ZXMucHVzaChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXlzW2ldKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cblxuICAgIHN0YXRpYyBzdG9yYWdlVXBkYXRlUHJvamVjdChwcm9qZWN0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHByb2plY3QpXG5cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYCR7cHJvamVjdC5nZXROYW1lKCl9YCwgSlNPTi5zdHJpbmdpZnkocHJvamVjdCkpXG4gICAgfVxuXG4gICAgc3RhdGljIHJlbmRlclByb2plY3RzKHByb2plY3QsIHRvZG9zLCBwcm9qZWN0c1RhYiwgZGVzY3JpcHRpb24sIGZvcm0sIGFkZFByb2plY3RCdG4pIHtcbiAgICAgICAgUHJvamVjdHNUYWIuY29sbGVjdGlvbi5wdXNoKHByb2plY3QpXG4gICAgICAgIGNvbnN0IHByb2plY3RET01FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKVxuXG4gICAgICAgIHByb2plY3RET01FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10YWItdGFyZ2V0JywgYCR7cHJvamVjdC5nZXROYW1lKCl9YClcbiAgICAgICAgcHJvamVjdERPTUVsZW1lbnQudGV4dENvbnRlbnQgPSBgJHtwcm9qZWN0LmdldE5hbWUoKX1gXG5cbiAgICAgICAgY29uc3QgdGFiQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIHRhYkNvbnRlbnQuaWQgPSBgJHtwcm9qZWN0LmdldE5hbWUoKX1gXG4gICAgICAgIHRhYkNvbnRlbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRhYi1jb250ZW50JywgJycpXG4gICAgICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJylcbiAgICAgICAgcHJvamVjdFRpdGxlLnRleHRDb250ZW50ID0gYCR7cHJvamVjdC5nZXROYW1lKCl9YFxuICAgICAgICBjb25zdCBhZGRUYXNrVG9Qcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gICAgICAgIGFkZFRhc2tUb1Byb2plY3QudGV4dENvbnRlbnQgPSAnKyBBZGQgVGFzaydcbiAgICAgICAgYWRkVGFza1RvUHJvamVjdC5pZCA9IGBhZGQtdGFzay10by0ke3Byb2plY3QuZ2V0TmFtZSgpfWBcbiAgICAgICAgdGFiQ29udGVudC5hcHBlbmRDaGlsZChwcm9qZWN0VGl0bGUpXG4gICAgICAgIHRhYkNvbnRlbnQuYXBwZW5kQ2hpbGQoYWRkVGFza1RvUHJvamVjdClcbiAgICAgICAgdG9kb3MuYXBwZW5kQ2hpbGQodGFiQ29udGVudClcblxuICAgICAgICBwcm9qZWN0c1RhYi5pbnNlcnRCZWZvcmUocHJvamVjdERPTUVsZW1lbnQsIGFkZFByb2plY3RCdG4pXG4gICAgICAgIGRlc2NyaXB0aW9uLnZhbHVlID0gXCJcIlxuICAgICAgICBmb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG5cbiAgICAgICAgY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJylcbiAgICAgICAgY29uc3QgcHJvamVjdERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3Byb2plY3QuZ2V0TmFtZSgpfWApXG5cbiAgICAgICAgUHJvamVjdHNUYWIuYWRkRm9ybVRvUHJvamVjdChwcm9qZWN0LCBwcm9qZWN0Rm9ybSwgcHJvamVjdERpdilcbiAgICAgICAgUHJvamVjdHNUYWIucHJvamVjdEZvcm1Qb3BVcChhZGRUYXNrVG9Qcm9qZWN0LCBwcm9qZWN0Rm9ybSlcbiAgICAgICAgUHJvamVjdHNUYWIuc3VibWl0VGFza1RvUHJvamVjdChwcm9qZWN0LCBwcm9qZWN0RGl2KVxuICAgICAgICBQcm9qZWN0c1RhYi5zd2l0Y2hDYXRlZ29yeSgpXG4gICAgfVxuXG4gICAgc3RhdGljIHJlbmRlclRhc2tzKHRhc2ssIHByb2plY3QsIHByb2plY3REaXYsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBmb3JtLCBhZGRUYXNrQnRuKSB7XG4gICAgICAgIGNvbnN0IHRhc2tET01FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gICAgICAgIHRhc2tET01FbGVtZW50LmlkID0gdGFzay5nZXRJRCgpXG4gICAgICAgIGNvbnN0IGlzRG9uZSA9IGAke3Rhc2suZ2V0RGVzY3JpcHRpb24oKX0gJHt0YXNrLmdldENvbXBsZXRlZCgpfWBcblxuICAgICAgICB0YXNrRE9NRWxlbWVudC5pbm5lckhUTUwgPSBgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiJHtpc0RvbmV9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPiR7dGFzay5nZXREZXNjcmlwdGlvbigpfSB8IGR1ZTogJHt0YXNrLmdldERhdGUoKX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9J2RlbC0ke3Rhc2suZ2V0SUQoKX0nPmRlbGV0ZTwvYnV0dG9uPmBcblxuXG4gICAgICAgIGNvbnN0IG5vZGVzID0gdGFza0RPTUVsZW1lbnQuY2hpbGROb2Rlc1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChub2Rlc1tpXS5zdHlsZSkge1xuICAgICAgICAgICAgICAgIG5vZGVzW2ldLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ2lubGluZScpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm9qZWN0RGl2Lmluc2VydEJlZm9yZSh0YXNrRE9NRWxlbWVudCwgYWRkVGFza0J0bilcbiAgICAgICAgZGVzY3JpcHRpb24udmFsdWUgPSBcIlwiXG4gICAgICAgIGR1ZURhdGUudmFsdWUgPSBcIlwiXG4gICAgICAgIGZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcblxuICAgICAgICBQcm9qZWN0c1RhYi5hZGRUb1RvZGF5KHRhc2spXG4gICAgICAgIFByb2plY3RzVGFiLmFkZFRvV2Vlayh0YXNrKVxuICAgICAgICBQcm9qZWN0c1RhYi5kZWxldGVUYXNrKHRhc2suZ2V0SUQoKSwgcHJvamVjdClcbiAgICAgICAgUHJvamVjdHNUYWIuY2hlY2tEb25lKGlzRG9uZSlcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlRm9ybSgpIHtcbiAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKVxuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0cy10YWInKVxuICAgICAgICBmb3JtLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgICA8Zm9ybSBhY3Rpb249XCIjXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwicHJvamVjdC1kZXNjcmlwdGlvblwiIG5hbWU9XCJkZXNjcmlwdGlvblwiIHBsYWNlaG9sZGVyPVwicHJvamVjdFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGlkPVwicHJvamVjdHMtc3VibWl0LWJ0blwiPlN1Ym1pdDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBpZD1cInByb2plY3RzLWNhbmNlbC1idG5cIj5DYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICBgXG4gICAgICAgIGZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICAgICAgZm9ybS5pZCA9ICdwcm9qZWN0cy1mb3JtJ1xuICAgICAgICBwcm9qZWN0cy5hcHBlbmRDaGlsZChmb3JtKVxuICAgIH1cblxuICAgIHN0YXRpYyBmb3JtUG9wVXAoKSB7XG4gICAgICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLXByb2plY3QnKVxuICAgICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RzLWZvcm0nKVxuXG4gICAgICAgIGFkZFByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBhZGRQcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgICAgICAgICBmb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIHN1Ym1pdFRvUHJvamVjdHMoKSB7XG4gICAgICAgIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0cy1zdWJtaXQtYnRuJylcbiAgICAgICAgY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtcHJvamVjdCcpXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3QtZGVzY3JpcHRpb24nKVxuICAgICAgICBjb25zdCBwcm9qZWN0c1RhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0cy10YWInKVxuICAgICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RzLWZvcm0nKVxuICAgICAgICBjb25zdCB0b2RvcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RvcycpXG5cbiAgICAgICAgc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgICAgICBhZGRQcm9qZWN0QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG5cbiAgICAgICAgICAgIGlmIChkZXNjcmlwdGlvbi52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgIFByb2plY3RzVGFiLmNoZWNrRmllbGRzKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKFByb2plY3RzVGFiLmNvbGxlY3Rpb24uc29tZShwcm9qZWN0ID0+IHByb2plY3QuZ2V0TmFtZSgpID09PSBkZXNjcmlwdGlvbi52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBhbGVydChcIlRoaXMgcHJvamVjdCBhbHJlYWR5IGV4aXN0cyFcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3QgPSBuZXcgUHJvamVjdChkZXNjcmlwdGlvbi52YWx1ZSlcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBQcm9qZWN0c1RhYi5yZW5kZXJQcm9qZWN0cyhwcm9qZWN0LCB0b2RvcywgcHJvamVjdHNUYWIsIGRlc2NyaXB0aW9uLCBmb3JtLCBhZGRQcm9qZWN0QnRuKVxuXG4gICAgICAgICAgICAgICAgUHJvamVjdHNUYWIuc3RvcmFnZVVwZGF0ZVByb2plY3QocHJvamVjdClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBzdGF0aWMgY2hlY2tGaWVsZHMoKSB7XG4gICAgICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLXByb2plY3QnKVxuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0cy10YWInKVxuICAgICAgICBjb25zdCBhbGVydEV4aXN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZW1wdHktYWxlcnRcIilcblxuICAgICAgICBhZGRQcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIilcblxuICAgICAgICBpZiAoYWxlcnRFeGlzdHMpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgbm90aWZ5RmllbGRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gICAgICAgIG5vdGlmeUZpZWxkcy50ZXh0Q29udGVudCA9IFwiUGxlYXNlIGVudGVyIHRoZSB0aXRsZSBvZiB0aGUgcHJvamVjdC5cIlxuICAgICAgICBub3RpZnlGaWVsZHMuY2xhc3NMaXN0LmFkZCgnZW1wdHktYWxlcnQnKVxuXG4gICAgICAgIHByb2plY3RzLmFwcGVuZENoaWxkKG5vdGlmeUZpZWxkcylcblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHByb2plY3RzLnJlbW92ZUNoaWxkKG5vdGlmeUZpZWxkcylcbiAgICAgICAgfSwgMjAwMClcbiAgICB9XG5cbiAgICBzdGF0aWMgY2hlY2tJbmJveEZpZWxkcyhhZGRUYXNrQnRuLCBpbmJveCkge1xuICAgICAgICBjb25zdCBhbGVydEV4aXN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZW1wdHktYWxlcnRcIilcblxuICAgICAgICBhZGRUYXNrQnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIilcblxuICAgICAgICBpZiAoYWxlcnRFeGlzdHMpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgbm90aWZ5RmllbGRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gICAgICAgIG5vdGlmeUZpZWxkcy50ZXh0Q29udGVudCA9IFwiUGxlYXNlIGVudGVyIHRoZSBkZXNjcmlwdGlvbiBhbmQgZHVlIGRhdGUgb2YgdGhlIHRhc2suXCJcbiAgICAgICAgbm90aWZ5RmllbGRzLmNsYXNzTGlzdC5hZGQoJ2VtcHR5LWFsZXJ0JylcblxuICAgICAgICBpbmJveC5hcHBlbmRDaGlsZChub3RpZnlGaWVsZHMpXG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpbmJveC5yZW1vdmVDaGlsZChub3RpZnlGaWVsZHMpXG4gICAgICAgIH0sIDIwMDApXG4gICAgfVxuXG4gICAgc3RhdGljIGNhbmNlbFN1Ym1pc3Npb24oKSB7XG4gICAgICAgIGNvbnN0IGNhbmNlbFByb2plY3RCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdHMtY2FuY2VsLWJ0bicpXG4gICAgICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLXByb2plY3QnKVxuICAgICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RzLWZvcm0nKVxuXG4gICAgICAgIGNhbmNlbFByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBhZGRQcm9qZWN0QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgICAgICAgICBmb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIGNhbmNlbEZvcm0ocHJvamVjdCkge1xuICAgICAgICBjb25zdCBjYW5jZWxUYXNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7cHJvamVjdC5nZXROYW1lKCl9LWNhbmNlbC1idG5gKVxuICAgICAgICBjb25zdCBhZGRUYXNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGFkZC10YXNrLXRvLSR7cHJvamVjdC5nZXROYW1lKCl9YClcbiAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3Byb2plY3QuZ2V0TmFtZSgpfS1mb3JtYClcblxuICAgICAgICBjYW5jZWxUYXNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgYWRkVGFza0J0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgICAgICAgICAgZm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyBhZGRGb3JtVG9Qcm9qZWN0KHByb2plY3QsIHByb2plY3RGb3JtLCBwcm9qZWN0RGl2KSB7XG4gICAgICAgIHByb2plY3RGb3JtLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGZvcm0gYWN0aW9uPVwiI1wiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJ0YXNrLWRlc2NyaXB0aW9uLSR7cHJvamVjdC5nZXROYW1lKCl9XCIgbmFtZT1cImRlc2NyaXB0aW9uXCIgcGxhY2Vob2xkZXI9XCJ0YXNrXCIgLz5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIGlkPVwiZHVlRGF0ZS0ke3Byb2plY3QuZ2V0TmFtZSgpfVwiIG5hbWU9XCJkdWVEYXRlXCIgcGxhY2Vob2xkZXI9XCJkdWUgZGF0ZVwiIC8+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBpZD1cIiR7cHJvamVjdC5nZXROYW1lKCl9LXN1Ym1pdC1idG5cIj5TdWJtaXQ8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGlkPVwiJHtwcm9qZWN0LmdldE5hbWUoKX0tY2FuY2VsLWJ0blwiPkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICA8L2Zvcm0+YFxuXG4gICAgICAgIHByb2plY3RGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgICAgIHByb2plY3RGb3JtLmlkID0gYCR7cHJvamVjdC5nZXROYW1lKCl9LWZvcm1gXG4gICAgICAgIHByb2plY3REaXYuYXBwZW5kQ2hpbGQocHJvamVjdEZvcm0pXG5cbiAgICAgICAgUHJvamVjdHNUYWIuY2FuY2VsRm9ybShwcm9qZWN0KVxuICAgIH1cblxuICAgIHN0YXRpYyBwcm9qZWN0Rm9ybVBvcFVwKGFkZFRhc2tUb1Byb2plY3QsIHByb2plY3RGb3JtKSB7XG4gICAgICAgIGFkZFRhc2tUb1Byb2plY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBhZGRUYXNrVG9Qcm9qZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgICAgICAgICBwcm9qZWN0Rm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyBzdWJtaXRUYXNrVG9Qcm9qZWN0KHByb2plY3QsIHByb2plY3REaXYpIHtcbiAgICAgICAgY29uc3Qgc3VibWl0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7cHJvamVjdC5nZXROYW1lKCl9LXN1Ym1pdC1idG5gKVxuICAgICAgICBjb25zdCBhZGRUYXNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGFkZC10YXNrLXRvLSR7cHJvamVjdC5nZXROYW1lKCl9YClcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdGFzay1kZXNjcmlwdGlvbi0ke3Byb2plY3QuZ2V0TmFtZSgpfWApXG4gICAgICAgIGNvbnN0IGR1ZURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZHVlRGF0ZS0ke3Byb2plY3QuZ2V0TmFtZSgpfWApXG4gICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtwcm9qZWN0LmdldE5hbWUoKX0tZm9ybWApXG5cbiAgICAgICAgc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgICAgICBhZGRUYXNrQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG5cbiAgICAgICAgICAgIGlmIChkZXNjcmlwdGlvbi52YWx1ZSA9PT0gXCJcIiB8fCBkdWVEYXRlLnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgUHJvamVjdHNUYWIuY2hlY2tJbmJveEZpZWxkcyhhZGRUYXNrQnRuLCBwcm9qZWN0RGl2KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocHJvamVjdC5nZXRUYXNrcygpLnNvbWUodGFzayA9PiB0YXNrLmdldERlc2NyaXB0aW9uKCkgPT09IGRlc2NyaXB0aW9uLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiVGhpcyB0b2RvIGFscmVhZHkgZXhpc3RzIVwiKVxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uLnZhbHVlID0gXCJcIlxuICAgICAgICAgICAgICAgIGR1ZURhdGUudmFsdWUgPSBcIlwiXG4gICAgICAgICAgICAgICAgZm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFzayA9IG5ldyBUYXNrKGRlc2NyaXB0aW9uLnZhbHVlLCBkdWVEYXRlLnZhbHVlKVxuICAgICAgICAgICAgICAgIHByb2plY3QuYWRkVGFzayh0YXNrKVxuICAgICAgICAgICAgICAgIFByb2plY3RzVGFiLnN0b3JhZ2VVcGRhdGVQcm9qZWN0KHByb2plY3QpXG5cbiAgICAgICAgICAgICAgICBQcm9qZWN0c1RhYi5yZW5kZXJUYXNrcyh0YXNrLCBwcm9qZWN0LCBwcm9qZWN0RGl2LCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgZm9ybSwgYWRkVGFza0J0bilcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyBjaGVja0RvbmUoaXNEb25lKSB7XG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaXNEb25lKVxuICAgICAgICBjb25zdCBjaGVja2JveENsb25lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7aXNEb25lfS1jbG9uZWApXG4gICAgICAgIGNvbnN0IGNoZWNrYm94Q2xvbmVXZWVrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7aXNEb25lfS1jbG9uZS13ZWVrYClcblxuXG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tib3gucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbGluZS10aHJvdWdoJylcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hDbG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lLmNoZWNrZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmUucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbGluZS10aHJvdWdoJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94Q2xvbmVXZWVrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmVXZWVrLmNoZWNrZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmVXZWVrLnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ2xpbmUtdGhyb3VnaCcpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGVja2JveC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdub25lJylcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hDbG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lLmNoZWNrZWQgPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lLnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ25vbmUnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hDbG9uZVdlZWspIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZVdlZWsuY2hlY2tlZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmVXZWVrLnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ25vbmUnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoY2hlY2tib3hDbG9uZSkge1xuICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94Q2xvbmUuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lLnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ2xpbmUtdGhyb3VnaCcpXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ2xpbmUtdGhyb3VnaCcpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdub25lJylcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ25vbmUnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hlY2tib3hDbG9uZVdlZWspIHtcbiAgICAgICAgICAgIGNoZWNrYm94Q2xvbmVXZWVrLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hDbG9uZVdlZWsuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lV2Vlay5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdsaW5lLXRocm91Z2gnKVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdsaW5lLXRocm91Z2gnKVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hDbG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5jaGVja2VkID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdsaW5lLXRocm91Z2gnKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZVdlZWsucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbm9uZScpXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdub25lJylcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94Q2xvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmUuY2hlY2tlZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lLnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ25vbmUnKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBkZWxldGVUYXNrKGlkLCBwcm9qZWN0KSB7XG4gICAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBkZWwtJHtpZH1gKVxuICAgICAgICBjb25zdCBidG5DbG9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBkZWwtJHtpZH0tY2xvbmVgKVxuICAgICAgICBjb25zdCBidG5DbG9uZVdlZWsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZGVsLSR7aWR9LWNsb25lLXdlZWtgKVxuXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpXG4gICAgICAgICAgICBpZiAoYnRuQ2xvbmUpIHtcbiAgICAgICAgICAgICAgICBidG5DbG9uZS5wYXJlbnRFbGVtZW50LnJlbW92ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnRuQ2xvbmVXZWVrKSB7XG4gICAgICAgICAgICAgICAgYnRuQ2xvbmVXZWVrLnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb2plY3QuZ2V0VGFza3MoKVxuICAgICAgICAgICAgICAgIC5zcGxpY2UocHJvamVjdC5nZXRUYXNrcygpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kSW5kZXgoXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrID0+IHRhc2suZ2V0SUQoKSA9PT0gaWRcbiAgICAgICAgICAgICAgICAgICAgKSwgMSlcbiAgICAgICAgICAgIFByb2plY3RzVGFiLnN0b3JhZ2VVcGRhdGVQcm9qZWN0KHByb2plY3QpXG4gICAgICAgIH0pXG4gICAgICAgIGlmIChidG5DbG9uZSkge1xuICAgICAgICAgICAgYnRuQ2xvbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgICAgICBidG4ucGFyZW50RWxlbWVudC5yZW1vdmUoKVxuICAgICAgICAgICAgICAgIGlmIChidG5DbG9uZVdlZWspIHtcbiAgICAgICAgICAgICAgICAgICAgYnRuQ2xvbmVXZWVrLnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJvamVjdC5nZXRUYXNrcygpXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpY2UocHJvamVjdC5nZXRUYXNrcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZEluZGV4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sgPT4gdGFzay5nZXRJRCgpID09PSBpZFxuICAgICAgICAgICAgICAgICAgICAgICAgKSwgMSlcbiAgICAgICAgICAgICAgICBQcm9qZWN0c1RhYi5zdG9yYWdlVXBkYXRlUHJvamVjdChwcm9qZWN0KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnRuQ2xvbmVXZWVrKSB7XG4gICAgICAgICAgICBidG5DbG9uZVdlZWsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgICAgICBidG4ucGFyZW50RWxlbWVudC5yZW1vdmUoKVxuICAgICAgICAgICAgICAgIGlmIChidG5DbG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBidG5DbG9uZS5wYXJlbnRFbGVtZW50LnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb2plY3QuZ2V0VGFza3MoKVxuICAgICAgICAgICAgICAgICAgICAuc3BsaWNlKHByb2plY3QuZ2V0VGFza3MoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrID0+IHRhc2suZ2V0SUQoKSA9PT0gaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICksIDEpXG4gICAgICAgICAgICAgICAgUHJvamVjdHNUYWIuc3RvcmFnZVVwZGF0ZVByb2plY3QocHJvamVjdClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgYWRkVG9Ub2RheSh0YXNrKSB7XG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBQcm9qZWN0c1RhYi5jb2xsZWN0aW9uXG4gICAgICAgIGNvbnN0IHRhYkNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kYXktY29udGVudCcpXG5cbiAgICAgICAgY29uc3QgdGFza0Nsb25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgY29uc3QgaXNEb25lID0gYCR7dGFzay5nZXREZXNjcmlwdGlvbigpfSAke3Rhc2suZ2V0Q29tcGxldGVkKCl9LWNsb25lYFxuICAgICAgICB0YXNrQ2xvbmUuaWQgPSBgJHt0YXNrLmdldElEKCl9LWNsb25lYFxuICAgICAgICB0YXNrQ2xvbmUuaW5uZXJIVE1MID0gYDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cIiR7aXNEb25lfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4ke3Rhc2suZ2V0RGVzY3JpcHRpb24oKX0gfCBkdWU6ICR7dGFzay5nZXREYXRlKCl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSdkZWwtJHt0YXNrLmdldElEKCl9LWNsb25lJz5kZWxldGU8L2J1dHRvbj5gXG5cbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0YXNrQ2xvbmUuY2hpbGROb2Rlc1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChub2Rlc1tpXS5zdHlsZSkge1xuICAgICAgICAgICAgICAgIG5vZGVzW2ldLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ2lubGluZScpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZygnbGV0cyBzZWUgaWYgcHJvamVjdCBjb250YWlucyB0YXNrJywgY29sbGVjdGlvbilcblxuICAgICAgICBjb2xsZWN0aW9uLmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXNrcyA9IHByb2plY3QuZ2V0VGFza3MoKVxuICAgICAgICAgICAgdGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXkgPSBOdW1iZXIodGFzay5kdWVEYXRlLnNsaWNlKC0yKSlcbiAgICAgICAgICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICBjb25zdCBkYXlUb2RheSA9IHRvZGF5LmdldERhdGUoKVxuICAgICAgICAgICAgICAgIGlmIChkYXkgPT09IGRheVRvZGF5ICYmICFQcm9qZWN0c1RhYi50b2RheUNvbGxlY3Rpb24uaW5jbHVkZXModGFzaykpIHtcbiAgICAgICAgICAgICAgICAgICAgUHJvamVjdHNUYWIudG9kYXlDb2xsZWN0aW9uLnB1c2godGFzaylcbiAgICAgICAgICAgICAgICAgICAgdGFiQ29udGVudC5hcHBlbmRDaGlsZCh0YXNrQ2xvbmUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBzdGF0aWMgYWRkVG9XZWVrKHRhc2spIHtcbiAgICAgICAgY29uc3QgY29sbGVjdGlvbiA9IFByb2plY3RzVGFiLmNvbGxlY3Rpb25cbiAgICAgICAgY29uc3QgdGFiQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aGlzLXdlZWstY29udGVudCcpXG5cbiAgICAgICAgY29uc3QgdGFza0Nsb25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgY29uc3QgaXNEb25lID0gYCR7dGFzay5nZXREZXNjcmlwdGlvbigpfSAke3Rhc2suZ2V0Q29tcGxldGVkKCl9LWNsb25lLXdlZWtgXG4gICAgICAgIHRhc2tDbG9uZS5pZCA9IGAke3Rhc2suZ2V0SUQoKX0tY2xvbmUtd2Vla2BcbiAgICAgICAgdGFza0Nsb25lLmlubmVySFRNTCA9IGA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCIke2lzRG9uZX1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+JHt0YXNrLmdldERlc2NyaXB0aW9uKCl9IHwgZHVlOiAke3Rhc2suZ2V0RGF0ZSgpfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0nZGVsLSR7dGFzay5nZXRJRCgpfS1jbG9uZS13ZWVrJz5kZWxldGU8L2J1dHRvbj5gXG5cbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0YXNrQ2xvbmUuY2hpbGROb2Rlc1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChub2Rlc1tpXS5zdHlsZSkge1xuICAgICAgICAgICAgICAgIG5vZGVzW2ldLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ2lubGluZScpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb2xsZWN0aW9uLmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXNrcyA9IHByb2plY3QuZ2V0VGFza3MoKVxuICAgICAgICAgICAgdGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXkgPSBOdW1iZXIodGFzay5kdWVEYXRlLnNsaWNlKC0yKSlcbiAgICAgICAgICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICBjb25zdCBkYXlUb2RheSA9IHRvZGF5LmdldERhdGUoKVxuICAgICAgICAgICAgICAgIGlmICgoZGF5IC0gZGF5VG9kYXkpIDw9IDcgJiYgIVByb2plY3RzVGFiLndlZWtDb2xsZWN0aW9uLmluY2x1ZGVzKHRhc2spKSB7XG4gICAgICAgICAgICAgICAgICAgIFByb2plY3RzVGFiLndlZWtDb2xsZWN0aW9uLnB1c2godGFzaylcbiAgICAgICAgICAgICAgICAgICAgdGFiQ29udGVudC5hcHBlbmRDaGlsZCh0YXNrQ2xvbmUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBzdGF0aWMgc3dpdGNoQ2F0ZWdvcnkoKSB7XG4gICAgICAgIGNvbnN0IHRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS10YWItdGFyZ2V0XScpXG4gICAgICAgIGNvbnN0IHRhYkNvbnRlbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdGFiLWNvbnRlbnRdJylcblxuICAgICAgICB0YWJzLmZvckVhY2godGFiID0+IHtcbiAgICAgICAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWIuZGF0YXNldC50YWJUYXJnZXQpXG4gICAgICAgICAgICAgICAgdGFiQ29udGVudHMuZm9yRWFjaCh0YWJDb250ZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGFiQ29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbn0iLCJpbXBvcnQgVGFzayBmcm9tICcuL1Rhc2snXG5pbXBvcnQgUHJvamVjdCBmcm9tICcuL1Byb2plY3QnXG5pbXBvcnQgUHJvamVjdHNVSSBmcm9tICcuL1Byb2plY3RzVUknXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluYm94VGFiIHtcbiAgICBzdGF0aWMgZGVmYXVsdFByb2plY3QgPSBuZXcgUHJvamVjdCgnZGVmYXVsdCcpXG5cbiAgICBzdGF0aWMgaW5pdGlhbGl6ZUluYm94VGFiKCkge1xuXG4gICAgICAgIEluYm94VGFiLmNyZWF0ZUZvcm0oKVxuICAgICAgICBJbmJveFRhYi5mb3JtUG9wVXAoKVxuICAgICAgICBJbmJveFRhYi5zdWJtaXRUb0luYm94KClcbiAgICAgICAgSW5ib3hUYWIuY2FuY2VsRm9ybSgpXG4gICAgICAgIEluYm94VGFiLmFkZERlZmF1bHRQcm9qZWN0KClcbiAgICB9XG5cbiAgICBzdGF0aWMgYWRkRGVmYXVsdFByb2plY3QoKSB7XG4gICAgICAgIFByb2plY3RzVUkuY29sbGVjdGlvbi5wdXNoKEluYm94VGFiLmRlZmF1bHRQcm9qZWN0KVxuICAgIH1cblxuICAgIHN0YXRpYyByZW5kZXJUYXNrcyh0YXNrLCBpbmJveCwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIGZvcm0sIGFkZFRhc2tCdG4pIHtcbiAgICAgICAgY29uc3QgdGFza0RPTUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICB0YXNrRE9NRWxlbWVudC5pZCA9IHRhc2suZ2V0SUQoKVxuICAgICAgICBjb25zdCBpc0RvbmUgPSBgJHt0YXNrLmdldERlc2NyaXB0aW9uKCl9ICR7dGFzay5nZXRDb21wbGV0ZWQoKX1gXG5cbiAgICAgICAgdGFza0RPTUVsZW1lbnQuaW5uZXJIVE1MID0gYDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cIiR7aXNEb25lfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4ke3Rhc2suZ2V0RGVzY3JpcHRpb24oKX0gfCBkdWU6ICR7dGFzay5nZXREYXRlKCl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSdkZWwtJHt0YXNrLmdldElEKCl9Jz5kZWxldGU8L2J1dHRvbj5gXG5cblxuICAgICAgICBjb25zdCBub2RlcyA9IHRhc2tET01FbGVtZW50LmNoaWxkTm9kZXNcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobm9kZXNbaV0uc3R5bGUpIHtcbiAgICAgICAgICAgICAgICBub2Rlc1tpXS5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdpbmxpbmUnKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaW5ib3guaW5zZXJ0QmVmb3JlKHRhc2tET01FbGVtZW50LCBhZGRUYXNrQnRuKVxuICAgICAgICBkZXNjcmlwdGlvbi52YWx1ZSA9IFwiXCJcbiAgICAgICAgZHVlRGF0ZS52YWx1ZSA9IFwiXCJcbiAgICAgICAgZm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuXG4gICAgICAgIEluYm94VGFiLmFkZFRvVG9kYXkodGFzaylcbiAgICAgICAgSW5ib3hUYWIuYWRkVG9XZWVrKHRhc2spXG4gICAgICAgIEluYm94VGFiLmRlbGV0ZVRhc2sodGFzay5nZXRJRCgpKVxuICAgICAgICBJbmJveFRhYi5jaGVja0RvbmUoaXNEb25lKVxuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGVGb3JtKCkge1xuICAgICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpXG4gICAgICAgIGNvbnN0IGluYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luYm94JylcbiAgICAgICAgZm9ybS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgICAgPGZvcm0gYWN0aW9uPVwiI1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cInRhc2stZGVzY3JpcHRpb25cIiBuYW1lPVwiZGVzY3JpcHRpb25cIiBwbGFjZWhvbGRlcj1cInRhc2tcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBpZD1cImR1ZURhdGVcIiBuYW1lPVwiZHVlRGF0ZVwiIHBsYWNlaG9sZGVyPVwiZHVlIGRhdGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBpZD1cImluYm94LXN1Ym1pdC1idG5cIj5TdWJtaXQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJpbmJveC1jYW5jZWwtYnRuXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgYFxuICAgICAgICBmb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgICAgIGZvcm0uaWQgPSAnaW5ib3gtZm9ybSdcbiAgICAgICAgaW5ib3guYXBwZW5kQ2hpbGQoZm9ybSlcbiAgICB9XG5cbiAgICBzdGF0aWMgZm9ybVBvcFVwKCkge1xuICAgICAgICBjb25zdCBhZGRUYXNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC10YXNrJylcbiAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmJveC1mb3JtJylcblxuICAgICAgICBhZGRUYXNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgYWRkVGFza0J0bi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgICAgICAgICAgZm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyBzdWJtaXRUb0luYm94KCkge1xuICAgICAgICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5ib3gtc3VibWl0LWJ0bicpXG4gICAgICAgIGNvbnN0IGFkZFRhc2tCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLXRhc2snKVxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrLWRlc2NyaXB0aW9uJylcbiAgICAgICAgY29uc3QgZHVlRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkdWVEYXRlJylcbiAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmJveC1mb3JtJylcbiAgICAgICAgY29uc3QgaW5ib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5ib3gnKVxuXG4gICAgICAgIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICAgICAgYWRkVGFza0J0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuXG4gICAgICAgICAgICBpZiAoZGVzY3JpcHRpb24udmFsdWUgPT09IFwiXCIgfHwgZHVlRGF0ZS52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgIEluYm94VGFiLmNoZWNrRmllbGRzKGFkZFRhc2tCdG4sIGluYm94KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoSW5ib3hUYWIuZGVmYXVsdFByb2plY3QuZ2V0VGFza3MoKS5zb21lKHRhc2sgPT4gdGFzay5nZXREZXNjcmlwdGlvbigpID09PSBkZXNjcmlwdGlvbi52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBhbGVydChcIlRoaXMgdG9kbyBhbHJlYWR5IGV4aXN0cyFcIilcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbi52YWx1ZSA9IFwiXCJcbiAgICAgICAgICAgICAgICBkdWVEYXRlLnZhbHVlID0gXCJcIlxuICAgICAgICAgICAgICAgIGZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBuZXcgVGFzayhkZXNjcmlwdGlvbi52YWx1ZSwgZHVlRGF0ZS52YWx1ZSlcbiAgICAgICAgICAgICAgICBJbmJveFRhYi5kZWZhdWx0UHJvamVjdC5hZGRUYXNrKHRhc2spXG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBJbmJveFRhYi5yZW5kZXJUYXNrcyh0YXNrLCBpbmJveCwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIGZvcm0sIGFkZFRhc2tCdG4pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIGFkZFRvVG9kYXkodGFzaykge1xuICAgICAgICBjb25zdCBjb2xsZWN0aW9uID0gUHJvamVjdHNVSS5jb2xsZWN0aW9uXG4gICAgICAgIGNvbnN0IHRhYkNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kYXktY29udGVudCcpXG5cbiAgICAgICAgY29uc3QgdGFza0Nsb25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgY29uc3QgaXNEb25lID0gYCR7dGFzay5nZXREZXNjcmlwdGlvbigpfSAke3Rhc2suZ2V0Q29tcGxldGVkKCl9LWNsb25lYFxuICAgICAgICB0YXNrQ2xvbmUuaWQgPSBgJHt0YXNrLmdldElEKCl9LWNsb25lYFxuICAgICAgICB0YXNrQ2xvbmUuaW5uZXJIVE1MID0gYDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cIiR7aXNEb25lfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4ke3Rhc2suZ2V0RGVzY3JpcHRpb24oKX0gfCBkdWU6ICR7dGFzay5nZXREYXRlKCl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSdkZWwtJHt0YXNrLmdldElEKCl9LWNsb25lJz5kZWxldGU8L2J1dHRvbj5gXG5cbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0YXNrQ2xvbmUuY2hpbGROb2Rlc1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChub2Rlc1tpXS5zdHlsZSkge1xuICAgICAgICAgICAgICAgIG5vZGVzW2ldLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ2lubGluZScpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb2xsZWN0aW9uLmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXNrcyA9IHByb2plY3QuZ2V0VGFza3MoKVxuICAgICAgICAgICAgdGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXkgPSBOdW1iZXIodGFzay5kdWVEYXRlLnNsaWNlKC0yKSlcbiAgICAgICAgICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICBjb25zdCBkYXlUb2RheSA9IHRvZGF5LmdldERhdGUoKVxuICAgICAgICAgICAgICAgIGlmIChkYXkgPT09IGRheVRvZGF5ICYmICFQcm9qZWN0c1VJLnRvZGF5Q29sbGVjdGlvbi5pbmNsdWRlcyh0YXNrKSkge1xuICAgICAgICAgICAgICAgICAgICBQcm9qZWN0c1VJLnRvZGF5Q29sbGVjdGlvbi5wdXNoKHRhc2spXG4gICAgICAgICAgICAgICAgICAgIHRhYkNvbnRlbnQuYXBwZW5kQ2hpbGQodGFza0Nsb25lKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIGFkZFRvV2Vlayh0YXNrKSB7XG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBQcm9qZWN0c1VJLmNvbGxlY3Rpb25cbiAgICAgICAgY29uc3QgdGFiQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aGlzLXdlZWstY29udGVudCcpXG5cbiAgICAgICAgY29uc3QgdGFza0Nsb25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgY29uc3QgaXNEb25lID0gYCR7dGFzay5nZXREZXNjcmlwdGlvbigpfSAke3Rhc2suZ2V0Q29tcGxldGVkKCl9LWNsb25lLXdlZWtgXG4gICAgICAgIHRhc2tDbG9uZS5pZCA9IGAke3Rhc2suZ2V0SUQoKX0tY2xvbmUtd2Vla2BcbiAgICAgICAgdGFza0Nsb25lLmlubmVySFRNTCA9IGA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCIke2lzRG9uZX1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+JHt0YXNrLmdldERlc2NyaXB0aW9uKCl9IHwgZHVlOiAke3Rhc2suZ2V0RGF0ZSgpfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0nZGVsLSR7dGFzay5nZXRJRCgpfS1jbG9uZS13ZWVrJz5kZWxldGU8L2J1dHRvbj5gXG5cbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0YXNrQ2xvbmUuY2hpbGROb2Rlc1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChub2Rlc1tpXS5zdHlsZSkge1xuICAgICAgICAgICAgICAgIG5vZGVzW2ldLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ2lubGluZScpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb2xsZWN0aW9uLmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXNrcyA9IHByb2plY3QuZ2V0VGFza3MoKVxuICAgICAgICAgICAgdGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXkgPSBOdW1iZXIodGFzay5kdWVEYXRlLnNsaWNlKC0yKSlcbiAgICAgICAgICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICBjb25zdCBkYXlUb2RheSA9IHRvZGF5LmdldERhdGUoKVxuICAgICAgICAgICAgICAgIGlmICgoZGF5IC0gZGF5VG9kYXkpIDw9IDcgJiYgIVByb2plY3RzVUkud2Vla0NvbGxlY3Rpb24uaW5jbHVkZXModGFzaykpIHtcbiAgICAgICAgICAgICAgICAgICAgUHJvamVjdHNVSS53ZWVrQ29sbGVjdGlvbi5wdXNoKHRhc2spXG4gICAgICAgICAgICAgICAgICAgIHRhYkNvbnRlbnQuYXBwZW5kQ2hpbGQodGFza0Nsb25lKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIGNoZWNrRG9uZShpc0RvbmUpIHtcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpc0RvbmUpXG4gICAgICAgIGNvbnN0IGNoZWNrYm94Q2xvbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtpc0RvbmV9LWNsb25lYClcbiAgICAgICAgY29uc3QgY2hlY2tib3hDbG9uZVdlZWsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtpc0RvbmV9LWNsb25lLXdlZWtgKVxuXG5cbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICBjaGVja2JveC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdsaW5lLXRocm91Z2gnKVxuICAgICAgICAgICAgICAgIGlmIChjaGVja2JveENsb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmUuY2hlY2tlZCA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdsaW5lLXRocm91Z2gnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hDbG9uZVdlZWspIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZVdlZWsuY2hlY2tlZCA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZVdlZWsucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbGluZS10aHJvdWdoJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoZWNrYm94LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ25vbmUnKVxuICAgICAgICAgICAgICAgIGlmIChjaGVja2JveENsb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmUuY2hlY2tlZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmUucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbm9uZScpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGVja2JveENsb25lV2Vlaykge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lV2Vlay5jaGVja2VkID0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZVdlZWsucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbm9uZScpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmIChjaGVja2JveENsb25lKSB7XG4gICAgICAgICAgICBjaGVja2JveENsb25lLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hDbG9uZS5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmUucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbGluZS10aHJvdWdoJylcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3gucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbGluZS10aHJvdWdoJylcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lLnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ25vbmUnKVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3gucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbm9uZScpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGVja2JveENsb25lV2Vlaykge1xuICAgICAgICAgICAgY2hlY2tib3hDbG9uZVdlZWsuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjaGVja2JveENsb25lV2Vlay5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmVXZWVrLnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ2xpbmUtdGhyb3VnaCcpXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ2xpbmUtdGhyb3VnaCcpXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVja2JveENsb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lLmNoZWNrZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lLnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ2xpbmUtdGhyb3VnaCcpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lV2Vlay5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdub25lJylcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ25vbmUnKVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hDbG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5jaGVja2VkID0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmUucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbm9uZScpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGRlbGV0ZVRhc2soaWQpIHtcbiAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGRlbC0ke2lkfWApXG4gICAgICAgIGNvbnN0IGJ0bkNsb25lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGRlbC0ke2lkfS1jbG9uZWApXG4gICAgICAgIGNvbnN0IGJ0bkNsb25lV2VlayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBkZWwtJHtpZH0tY2xvbmUtd2Vla2ApXG5cbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgIGlmIChidG5DbG9uZSkge1xuICAgICAgICAgICAgICAgIGJ0bkNsb25lLnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChidG5DbG9uZVdlZWspIHtcbiAgICAgICAgICAgICAgICBidG5DbG9uZVdlZWsucGFyZW50RWxlbWVudC5yZW1vdmUoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgSW5ib3hUYWIuZGVmYXVsdFByb2plY3QuZ2V0VGFza3MoKVxuICAgICAgICAgICAgICAgIC5zcGxpY2UoSW5ib3hUYWIuZGVmYXVsdFByb2plY3QuZ2V0VGFza3MoKVxuICAgICAgICAgICAgICAgICAgICAuZmluZEluZGV4KFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFzayA9PiB0YXNrLmdldElEKCkgPT09IGlkXG4gICAgICAgICAgICAgICAgICAgICksIDEpXG4gICAgICAgIH0pXG4gICAgICAgIGlmIChidG5DbG9uZSkge1xuICAgICAgICAgICAgYnRuQ2xvbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgICAgICBidG4ucGFyZW50RWxlbWVudC5yZW1vdmUoKVxuICAgICAgICAgICAgICAgIGlmIChidG5DbG9uZVdlZWspIHtcbiAgICAgICAgICAgICAgICAgICAgYnRuQ2xvbmVXZWVrLnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgSW5ib3hUYWIuZGVmYXVsdFByb2plY3QuZ2V0VGFza3MoKVxuICAgICAgICAgICAgICAgICAgICAuc3BsaWNlKEluYm94VGFiLmRlZmF1bHRQcm9qZWN0LmdldFRhc2tzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kSW5kZXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzayA9PiB0YXNrLmdldElEKCkgPT09IGlkXG4gICAgICAgICAgICAgICAgICAgICAgICApLCAxKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnRuQ2xvbmVXZWVrKSB7XG4gICAgICAgICAgICBidG5DbG9uZVdlZWsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgICAgICBidG4ucGFyZW50RWxlbWVudC5yZW1vdmUoKVxuICAgICAgICAgICAgICAgIGlmIChidG5DbG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBidG5DbG9uZS5wYXJlbnRFbGVtZW50LnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIEluYm94VGFiLmRlZmF1bHRQcm9qZWN0LmdldFRhc2tzKClcbiAgICAgICAgICAgICAgICAgICAgLnNwbGljZShJbmJveFRhYi5kZWZhdWx0UHJvamVjdC5nZXRUYXNrcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZEluZGV4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sgPT4gdGFzay5nZXRJRCgpID09PSBpZFxuICAgICAgICAgICAgICAgICAgICAgICAgKSwgMSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgY2hlY2tGaWVsZHMoYWRkVGFza0J0biwgaW5ib3gpIHtcbiAgICAgICAgY29uc3QgYWxlcnRFeGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVtcHR5LWFsZXJ0XCIpXG5cbiAgICAgICAgYWRkVGFza0J0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpXG5cbiAgICAgICAgaWYgKGFsZXJ0RXhpc3RzKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5vdGlmeUZpZWxkcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICAgICAgICBub3RpZnlGaWVsZHMudGV4dENvbnRlbnQgPSBcIlBsZWFzZSBlbnRlciB0aGUgZGVzY3JpcHRpb24gYW5kIGR1ZSBkYXRlIG9mIHRoZSB0YXNrLlwiXG4gICAgICAgIG5vdGlmeUZpZWxkcy5jbGFzc0xpc3QuYWRkKCdlbXB0eS1hbGVydCcpXG5cbiAgICAgICAgaW5ib3guYXBwZW5kQ2hpbGQobm90aWZ5RmllbGRzKVxuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaW5ib3gucmVtb3ZlQ2hpbGQobm90aWZ5RmllbGRzKVxuICAgICAgICB9LCAyMDAwKVxuICAgIH1cblxuICAgIHN0YXRpYyBjYW5jZWxGb3JtKCkge1xuICAgICAgICBjb25zdCBjYW5jZWxUYXNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luYm94LWNhbmNlbC1idG4nKVxuICAgICAgICBjb25zdCBhZGRUYXNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC10YXNrJylcbiAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmJveC1mb3JtJylcblxuICAgICAgICBjYW5jZWxUYXNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgYWRkVGFza0J0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgICAgICAgICAgZm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgICAgICB9KVxuICAgIH1cbn0iLCJpbXBvcnQgSW5ib3hVSSBmcm9tICcuL0luYm94VUknXG5pbXBvcnQgUHJvamVjdHNVSSBmcm9tICcuL1Byb2plY3RzVUknXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJIHtcbiAgICBzdGF0aWMgbG9hZEhvbWVwYWdlKCkge1xuICAgICAgICBVSS5zd2l0Y2hDYXRlZ29yeSgpXG5cbiAgICAgICAgSW5ib3hVSS5pbml0aWFsaXplSW5ib3hUYWIoKVxuICAgICAgICBQcm9qZWN0c1VJLmluaXRpYWxpemVQcm9qZWN0c1RhYigpXG4gICAgfVxuXG4gICAgc3RhdGljIHN3aXRjaENhdGVnb3J5KCkge1xuICAgICAgICBjb25zdCB0YWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdGFiLXRhcmdldF0nKVxuICAgICAgICBjb25zdCB0YWJDb250ZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRhYi1jb250ZW50XScpXG5cbiAgICAgICAgdGFicy5mb3JFYWNoKHRhYiA9PiB7XG4gICAgICAgICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFiLmRhdGFzZXQudGFiVGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB0YWJDb250ZW50cy5mb3JFYWNoKHRhYkNvbnRlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0YWJDb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxufSIsImltcG9ydCAnLi9zdHlsZS5jc3MnXG5pbXBvcnQgVUkgZnJvbSAnLi9tb2R1bGVzL0luaXRpYWxpemVVSSc7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBVSS5sb2FkSG9tZXBhZ2UpOyJdLCJzb3VyY2VSb290IjoiIn0=