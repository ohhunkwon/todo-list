(()=>{"use strict";var e={426:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(15),d=n.n(o),a=n(645),r=n.n(a)()(d());r.push([e.id,'*,\n*::after,\n*::before {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n}\n\nhtml,\nbody {\n  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;\n  height: 100%;\n  font-size: 1.1rem;\n}\n\n.title {\n  border-bottom: 2px solid black;\n  padding: 30px;\n  font-size: 1.5rem;\n  color: white;\n  background-color: #444444;\n}\n\n.content {\n  display: flex;\n  height: 100%;\n  background-color: #EDEDED;\n}\n\n.todo-nav {\n  border-right: 2px solid black;\n  padding: 50px;\n  width: 300px;\n}\n\n.todo-categories li, h3 {\n  list-style-type: none;\n  padding: 15px 0;\n}\n\n.todos {\n  margin: 40px 50px;\n}\n\n#add-project {\n  margin: 10px 0px;\n}\n\n#projects-tab li button {\n  margin: 0 10px;\n}\n\nbutton {\n  padding: 3px;\n}\n\nform {\n  margin: 15px 0px;\n}\n\n[data-tab-content] {\n  display: none;\n}\n\n[data-tab-content] p {\n  padding: 10px 0;\n}\n\n.active[data-tab-content] {\n  display: block;\n}\n\n.hidden {\n  display: none;\n}\n\n.empty-alert {\n  color: red;\n}\n',"",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;;;EAGE,sBAAsB;EACtB,UAAU;EACV,SAAS;AACX;;AAEA;;EAEE,4DAA4D;EAC5D,YAAY;EACZ,iBAAiB;AACnB;;AAEA;EACE,8BAA8B;EAC9B,aAAa;EACb,iBAAiB;EACjB,YAAY;EACZ,yBAAyB;AAC3B;;AAEA;EACE,aAAa;EACb,YAAY;EACZ,yBAAyB;AAC3B;;AAEA;EACE,6BAA6B;EAC7B,aAAa;EACb,YAAY;AACd;;AAEA;EACE,qBAAqB;EACrB,eAAe;AACjB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,UAAU;AACZ",sourcesContent:['*,\n*::after,\n*::before {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n}\n\nhtml,\nbody {\n  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;\n  height: 100%;\n  font-size: 1.1rem;\n}\n\n.title {\n  border-bottom: 2px solid black;\n  padding: 30px;\n  font-size: 1.5rem;\n  color: white;\n  background-color: #444444;\n}\n\n.content {\n  display: flex;\n  height: 100%;\n  background-color: #EDEDED;\n}\n\n.todo-nav {\n  border-right: 2px solid black;\n  padding: 50px;\n  width: 300px;\n}\n\n.todo-categories li, h3 {\n  list-style-type: none;\n  padding: 15px 0;\n}\n\n.todos {\n  margin: 40px 50px;\n}\n\n#add-project {\n  margin: 10px 0px;\n}\n\n#projects-tab li button {\n  margin: 0 10px;\n}\n\nbutton {\n  padding: 3px;\n}\n\nform {\n  margin: 15px 0px;\n}\n\n[data-tab-content] {\n  display: none;\n}\n\n[data-tab-content] p {\n  padding: 10px 0;\n}\n\n.active[data-tab-content] {\n  display: block;\n}\n\n.hidden {\n  display: none;\n}\n\n.empty-alert {\n  color: red;\n}\n'],sourceRoot:""}]);const c=r},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var d={};if(o)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(d[r]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);o&&d[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},15:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}e.exports=function(e){var n,o,d=(o=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,d,a=[],r=!0,c=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){c=!0,d=e}finally{try{r||null==n.return||n.return()}finally{if(c)throw d}}return a}}(n,o)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=d[1],r=d[3];if(!r)return a;if("function"==typeof btoa){var c=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),i="/*# ".concat(s," */"),l=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[a].concat(l).concat([i]).join("\n")}return[a].join("\n")}},379:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var a={},r=[],c=0;c<e.length;c++){var s=e[c],i=o.base?s[0]+o.base:s[0],l=a[i]||0,m="".concat(i," ").concat(l);a[i]=l+1;var p=n(m),u={css:s[1],media:s[2],sourceMap:s[3]};-1!==p?(t[p].references++,t[p].updater(u)):t.push({identifier:m,updater:d(u,o),references:1}),r.push(m)}return r}function d(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,d){var a=o(e=e||[],d=d||{});return function(e){e=e||[];for(var r=0;r<a.length;r++){var c=n(a[r]);t[c].references--}for(var s=o(e,d),i=0;i<a.length;i++){var l=n(a[i]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=s}}},569:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o=n.css,d=n.media,a=n.sourceMap;d?e.setAttribute("media",d):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(o,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(o){var d=t[o];if(void 0!==d)return d.exports;var a=t[o]={id:o,exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(379),t=n.n(e),o=n(795),d=n.n(o),a=n(569),r=n.n(a),c=n(565),s=n.n(c),i=n(216),l=n.n(i),m=n(589),p=n.n(m),u=n(426),h={};h.styleTagTransform=p(),h.setAttributes=s(),h.insert=r().bind(null,"head"),h.domAPI=d(),h.insertStyleElement=l(),t()(u.Z,h),u.Z&&u.Z.locals&&u.Z.locals;class g{constructor(e,t,n){this.description=e,this.dueDate=t,this.completed=!1,this.id=Date.now()}setDescription(e){this.description=e}getDescription(){return this.description}setDate(){this.dueDate=dueDate}getDate(){return this.dueDate}setCompleted(){this.completed?this.completed=!1:this.completed=!0}getCompleted(){return this.completed}getID(){return this.id}}class y{constructor(e){this.name=e,this.tasks=[]}setName(e){this.name=e}getName(){return this.name}setTasks(e){this.tasks=e}getTasks(){return this.tasks}addTask(e){this.tasks.push(e)}}class E{static collection=[];static todayCollection=[];static weekCollection=[];static initializeProjectsTab(){const e=E.allProjectsStorage();if(e){E.createForm(),E.formPopUp(),E.submitToProjects(),E.cancelSubmission();const t=document.getElementById("add-project"),n=document.getElementById("project-description"),o=document.getElementById("projects-tab"),d=document.getElementById("projects-form"),a=document.getElementById("todos");e.forEach((e=>{const r=JSON.parse(e);if(Object.setPrototypeOf(r,new y),"default"===r.getName())r.getTasks().forEach((e=>{const t=document.getElementById("add-task"),n=document.getElementById("task-description"),o=document.getElementById("dueDate"),d=document.getElementById("inbox-form"),a=document.getElementById("inbox");Object.setPrototypeOf(e,new g),f.renderTasks(e,r,a,n,o,d,t)}));else{E.renderProjects(r,a,o,n,d,t);const e=document.getElementById(`add-task-to-${r.getName()}`),c=document.getElementById(`task-description-${r.getName()}`),s=document.getElementById(`dueDate-${r.getName()}`),i=document.getElementById(`${r.getName()}-form`),l=document.getElementById(`${r.getName()}`);r.getTasks().forEach((t=>{t&&(Object.setPrototypeOf(t,new g),E.renderTasks(t,r,l,c,s,i,e))}))}}))}else E.createForm(),E.formPopUp(),E.submitToProjects(),E.cancelSubmission()}static allProjectsStorage(){let e=[];const t=Object.keys(localStorage);let n=t.length;for(;n--;)e.push(localStorage.getItem(t[n]));return e}static storageUpdateProject(e){this.collection.includes(e)?localStorage.setItem(`${e.getName()}`,JSON.stringify(e)):localStorage.removeItem(`${e.getName()}`)}static renderProjects(e,t,n,o,d,a){E.collection.push(e);const r=document.createElement("li"),c=document.createElement("button");c.id=`del-${e}`,c.textContent="delete",r.setAttribute("data-tab-target",`${e.getName()}`),r.textContent=`${e.getName()}`,r.appendChild(c);const s=document.createElement("div");s.id=`${e.getName()}`,s.setAttribute("data-tab-content","");const i=document.createElement("h3");i.textContent=`${e.getName()}`;const l=document.createElement("p");l.textContent="+ Add Task",l.id=`add-task-to-${e.getName()}`,s.appendChild(i),s.appendChild(l),t.appendChild(s),n.insertBefore(r,a),o.value="",d.classList.add("hidden");const m=document.createElement("form"),p=document.getElementById(`${e.getName()}`);E.addFormToProject(e,m,p),E.projectFormPopUp(l,m),E.submitTaskToProject(e,p),E.projectDelete(e,r,c),E.switchCategory()}static projectDelete(e,t,n){n.addEventListener("click",(()=>{t.remove(),this.collection=this.collection.filter((t=>t.getName()!==e.getName())),E.storageUpdateProject(e)}))}static renderTasks(e,t,n,o,d,a,r){const c=document.createElement("p");c.id=e.getID();const s=`${e.getDescription()} ${e.getCompleted()}`;c.innerHTML=`<input type="checkbox" id="${s}">\n                                            <p>${e.getDescription()} | due: ${e.getDate()}</p>\n                                            <button id='del-${e.getID()}'>delete</button>`;const i=c.childNodes;for(let e=0;e<i.length;e++)i[e].style&&i[e].style.setProperty("display","inline");n.insertBefore(c,r),o.value="",d.value="",a.classList.add("hidden"),E.addToToday(e),E.addToWeek(e),E.deleteTask(e.getID(),t),E.checkDone(s,t,e)}static createForm(){const e=document.createElement("form"),t=document.getElementById("projects-tab");e.innerHTML='\n                <form action="#">\n                    <input type="text" id="project-description" name="description" placeholder="project" />\n                    <button type="submit" id="projects-submit-btn">Submit</button>\n                    <button type="button" id="projects-cancel-btn">Cancel</button>\n                </form>\n            ',e.classList.add("hidden"),e.id="projects-form",t.appendChild(e)}static formPopUp(){const e=document.getElementById("add-project"),t=document.getElementById("projects-form");e.addEventListener("click",(()=>{e.classList.add("hidden"),t.classList.remove("hidden")}))}static submitToProjects(){const e=document.getElementById("projects-submit-btn"),t=document.getElementById("add-project"),n=document.getElementById("project-description"),o=document.getElementById("projects-tab"),d=document.getElementById("projects-form"),a=document.getElementById("todos");e.addEventListener("click",(e=>{if(e.preventDefault(),t.classList.remove("hidden"),""===n.value)E.checkFields();else if(E.collection.some((e=>e.getName()===n.value)))alert("This project already exists!");else{const e=new y(n.value);E.renderProjects(e,a,o,n,d,t),E.storageUpdateProject(e)}}))}static checkFields(){const e=document.getElementById("add-project"),t=document.getElementById("projects-tab"),n=document.querySelector(".empty-alert");if(e.classList.add("hidden"),n)return;const o=document.createElement("p");o.textContent="Please enter the title of the project.",o.classList.add("empty-alert"),t.appendChild(o),setTimeout((function(){t.removeChild(o)}),2e3)}static checkInboxFields(e,t){const n=document.querySelector(".empty-alert");if(e.classList.add("hidden"),n)return;const o=document.createElement("p");o.textContent="Please enter the description and due date of the task.",o.classList.add("empty-alert"),t.appendChild(o),setTimeout((function(){t.removeChild(o)}),2e3)}static cancelSubmission(){const e=document.getElementById("projects-cancel-btn"),t=document.getElementById("add-project"),n=document.getElementById("projects-form");e.addEventListener("click",(()=>{t.classList.remove("hidden"),n.classList.add("hidden")}))}static cancelForm(e){const t=document.getElementById(`${e.getName()}-cancel-btn`),n=document.getElementById(`add-task-to-${e.getName()}`),o=document.getElementById(`${e.getName()}-form`);t.addEventListener("click",(()=>{n.classList.remove("hidden"),o.classList.add("hidden")}))}static addFormToProject(e,t,n){t.innerHTML=`\n        <form action="#">\n            <input type="text" id="task-description-${e.getName()}" name="description" placeholder="task" />\n            <input type="date" id="dueDate-${e.getName()}" name="dueDate" placeholder="due date" />\n            <button type="submit" id="${e.getName()}-submit-btn">Submit</button>\n            <button type="button" id="${e.getName()}-cancel-btn">Cancel</button>\n        </form>`,t.classList.add("hidden"),t.id=`${e.getName()}-form`,n.appendChild(t),E.cancelForm(e)}static projectFormPopUp(e,t){e.addEventListener("click",(()=>{e.classList.add("hidden"),t.classList.remove("hidden")}))}static submitTaskToProject(e,t){const n=document.getElementById(`${e.getName()}-submit-btn`),o=document.getElementById(`add-task-to-${e.getName()}`),d=document.getElementById(`task-description-${e.getName()}`),a=document.getElementById(`dueDate-${e.getName()}`),r=document.getElementById(`${e.getName()}-form`);n.addEventListener("click",(n=>{if(n.preventDefault(),o.classList.remove("hidden"),""===d.value||""===a.value)E.checkInboxFields(o,t);else if(e.getTasks().some((e=>e.getDescription()===d.value)))alert("This todo already exists!"),d.value="",a.value="",r.classList.add("hidden");else{const n=new g(d.value,a.value);e.addTask(n),E.storageUpdateProject(e),E.renderTasks(n,e,t,d,a,r,o)}}))}static checkDone(e,t,n){const o=document.getElementById(e),d=document.getElementById(`${e}-clone`),a=document.getElementById(`${e}-clone-week`);window.addEventListener("DOMContentLoaded",(()=>{n.getCompleted()?(o.checked=!0,o.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),d&&(d.checked=!0,d.parentElement.childNodes[2].style.setProperty("text-decoration","line-through")),a&&(a.checked=!0,a.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"))):(o.checked=!1,o.parentElement.childNodes[2].style.setProperty("text-decoration","none"),d&&(d.checked=!1,d.parentElement.childNodes[2].style.setProperty("text-decoration","none")),a&&(a.checked=!1,a.parentElement.childNodes[2].style.setProperty("text-decoration","none")))})),o.addEventListener("change",(()=>{o.checked?(o.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),d&&(d.checked=!0,d.parentElement.childNodes[2].style.setProperty("text-decoration","line-through")),a&&(a.checked=!0,a.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"))):(o.parentElement.childNodes[2].style.setProperty("text-decoration","none"),d&&(d.checked=!1,d.parentElement.childNodes[2].style.setProperty("text-decoration","none")),a&&(a.checked=!1,a.parentElement.childNodes[2].style.setProperty("text-decoration","none"))),n.setCompleted(),E.storageUpdateProject(t)})),d&&d.addEventListener("change",(()=>{d.checked?(d.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),o.checked=!0,o.parentElement.childNodes[2].style.setProperty("text-decoration","line-through")):(d.parentElement.childNodes[2].style.setProperty("text-decoration","none"),o.checked=!1,o.parentElement.childNodes[2].style.setProperty("text-decoration","none")),n.setCompleted(),E.storageUpdateProject(t)})),a&&a.addEventListener("change",(()=>{a.checked?(a.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),o.checked=!0,o.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),d&&(d.checked=!0,d.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"))):(a.parentElement.childNodes[2].style.setProperty("text-decoration","none"),o.checked=!1,o.parentElement.childNodes[2].style.setProperty("text-decoration","none"),d&&(d.checked=!1,d.parentElement.childNodes[2].style.setProperty("text-decoration","none"))),n.setCompleted(),E.storageUpdateProject(t)}))}static deleteTask(e,t){const n=document.getElementById(`del-${e}`),o=document.getElementById(`del-${e}-clone`),d=document.getElementById(`del-${e}-clone-week`);n.addEventListener("click",(n=>{n.target.parentElement.remove(),o&&o.parentElement.remove(),d&&d.parentElement.remove(),t.getTasks().splice(t.getTasks().findIndex((t=>t.getID()===e)),1),E.storageUpdateProject(t)})),o&&o.addEventListener("click",(o=>{o.target.parentElement.remove(),n.parentElement.remove(),d&&d.parentElement.remove(),t.getTasks().splice(t.getTasks().findIndex((t=>t.getID()===e)),1),E.storageUpdateProject(t)})),d&&d.addEventListener("click",(d=>{d.target.parentElement.remove(),n.parentElement.remove(),o&&o.parentElement.remove(),t.getTasks().splice(t.getTasks().findIndex((t=>t.getID()===e)),1),E.storageUpdateProject(t)}))}static addToToday(e){const t=E.collection,n=document.getElementById("today-content"),o=document.createElement("div"),d=`${e.getDescription()} ${e.getCompleted()}-clone`;o.id=`${e.getID()}-clone`,o.innerHTML=`<input type="checkbox" id="${d}">\n                                <p>${e.getDescription()} | due: ${e.getDate()}</p>\n                                <button id='del-${e.getID()}-clone'>delete</button>`;const a=o.childNodes;for(let e=0;e<a.length;e++)a[e].style&&a[e].style.setProperty("display","inline");t.forEach((e=>{e.getTasks().forEach((e=>{Number(e.dueDate.slice(-2))!==(new Date).getDate()||E.todayCollection.includes(e)||(E.todayCollection.push(e),n.appendChild(o))}))}))}static addToWeek(e){const t=E.collection,n=document.getElementById("this-week-content"),o=document.createElement("div"),d=`${e.getDescription()} ${e.getCompleted()}-clone-week`;o.id=`${e.getID()}-clone-week`,o.innerHTML=`<input type="checkbox" id="${d}">\n                                <p>${e.getDescription()} | due: ${e.getDate()}</p>\n                                <button id='del-${e.getID()}-clone-week'>delete</button>`;const a=o.childNodes;for(let e=0;e<a.length;e++)a[e].style&&a[e].style.setProperty("display","inline");t.forEach((e=>{e.getTasks().forEach((e=>{Number(e.dueDate.slice(-2))-(new Date).getDate()<=7&&!E.weekCollection.includes(e)&&(E.weekCollection.push(e),n.appendChild(o))}))}))}static switchCategory(){const e=document.querySelectorAll("[data-tab-target]"),t=document.querySelectorAll("[data-tab-content]");e.forEach((e=>{e.addEventListener("click",(()=>{const n=document.getElementById(e.dataset.tabTarget);t.forEach((e=>{e.classList.remove("active")})),n.classList.add("active")}))}))}}class f{static defaultProject=new y("default");static initializeInboxTab(){f.createForm(),f.formPopUp(),f.submitToInbox(),f.cancelForm(),f.addDefaultProject()}static storageUpdateProject(e){localStorage.setItem(`${f.defaultProject.getName()}`,JSON.stringify(e))}static addDefaultProject(){E.collection.push(f.defaultProject)}static renderTasks(e,t,n,o,d,a,r){const c=document.createElement("div");c.id=e.getID();const s=`${e.getDescription()} ${e.getCompleted()}`;c.innerHTML=`<input type="checkbox" id="${s}">\n                                            <p>${e.getDescription()} | due: ${e.getDate()}</p>\n                                            <button id='del-${e.getID()}'>delete</button>`;const i=c.childNodes;for(let e=0;e<i.length;e++)i[e].style&&i[e].style.setProperty("display","inline");n.insertBefore(c,r),o.value="",d.value="",a.classList.add("hidden"),f.addToToday(e,t),f.addToWeek(e,t),f.deleteTask(e.getID(),t),f.checkDone(s,t,e)}static createForm(){const e=document.createElement("form"),t=document.getElementById("inbox");e.innerHTML='\n                <form action="#">\n                    <input type="text" id="task-description" name="description" placeholder="task" />\n                    <input type="date" id="dueDate" name="dueDate" placeholder="due date" />\n                    <button type="submit" id="inbox-submit-btn">Submit</button>\n                    <button type="button" id="inbox-cancel-btn">Cancel</button>\n                </form>\n            ',e.classList.add("hidden"),e.id="inbox-form",t.appendChild(e)}static formPopUp(){const e=document.getElementById("add-task"),t=document.getElementById("inbox-form");e.addEventListener("click",(()=>{e.classList.add("hidden"),t.classList.remove("hidden")}))}static submitToInbox(){const e=document.getElementById("inbox-submit-btn"),t=document.getElementById("add-task"),n=document.getElementById("task-description"),o=document.getElementById("dueDate"),d=document.getElementById("inbox-form"),a=document.getElementById("inbox");e.addEventListener("click",(e=>{if(e.preventDefault(),t.classList.remove("hidden"),""===n.value||""===o.value)f.checkFields(t,a);else if(f.defaultProject.getTasks().some((e=>e.getDescription()===n.value)))alert("This todo already exists!"),n.value="",o.value="",d.classList.add("hidden");else{const e=new g(n.value,o.value);f.defaultProject.addTask(e),f.renderTasks(e,this.defaultProject,a,n,o,d,t),f.storageUpdateProject(this.defaultProject)}}))}static addToToday(e,t){const n=document.getElementById("today-content"),o=document.createElement("div"),d=`${e.getDescription()} ${e.getCompleted()}-clone`;o.id=`${e.getID()}-clone`,o.innerHTML=`<input type="checkbox" id="${d}">\n                                <p>${e.getDescription()} | due: ${e.getDate()}</p>\n                                <button id='del-${e.getID()}-clone'>delete</button>`;const a=o.childNodes;for(let e=0;e<a.length;e++)a[e].style&&a[e].style.setProperty("display","inline");t.getTasks().forEach((e=>{Number(e.dueDate.slice(-2))!==(new Date).getDate()||E.todayCollection.includes(e)||(E.todayCollection.push(e),n.appendChild(o))}))}static addToWeek(e,t){const n=document.getElementById("this-week-content"),o=document.createElement("div"),d=`${e.getDescription()} ${e.getCompleted()}-clone-week`;o.id=`${e.getID()}-clone-week`,o.innerHTML=`<input type="checkbox" id="${d}">\n                                <p>${e.getDescription()} | due: ${e.getDate()}</p>\n                                <button id='del-${e.getID()}-clone-week'>delete</button>`;const a=o.childNodes;for(let e=0;e<a.length;e++)a[e].style&&a[e].style.setProperty("display","inline");t.getTasks().forEach((e=>{Number(e.dueDate.slice(-2))-(new Date).getDate()<=7&&!E.weekCollection.includes(e)&&(E.weekCollection.push(e),n.appendChild(o))}))}static checkDone(e,t,n){const o=document.getElementById(e),d=document.getElementById(`${e}-clone`),a=document.getElementById(`${e}-clone-week`);window.addEventListener("DOMContentLoaded",(()=>{n.getCompleted()?(o.checked=!0,o.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),d&&(d.checked=!0,d.parentElement.childNodes[2].style.setProperty("text-decoration","line-through")),a&&(a.checked=!0,a.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"))):(o.checked=!1,o.parentElement.childNodes[2].style.setProperty("text-decoration","none"),d&&(d.checked=!1,d.parentElement.childNodes[2].style.setProperty("text-decoration","none")),a&&(a.checked=!1,a.parentElement.childNodes[2].style.setProperty("text-decoration","none")))})),o.addEventListener("change",(()=>{o.checked?(o.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),d&&(d.checked=!0,d.parentElement.childNodes[2].style.setProperty("text-decoration","line-through")),a&&(a.checked=!0,a.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"))):(o.parentElement.childNodes[2].style.setProperty("text-decoration","none"),d&&(d.checked=!1,d.parentElement.childNodes[2].style.setProperty("text-decoration","none")),a&&(a.checked=!1,a.parentElement.childNodes[2].style.setProperty("text-decoration","none"))),n.setCompleted(),f.storageUpdateProject(t)})),d&&d.addEventListener("change",(()=>{d.checked?(d.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),o.checked=!0,o.parentElement.childNodes[2].style.setProperty("text-decoration","line-through")):(d.parentElement.childNodes[2].style.setProperty("text-decoration","none"),o.checked=!1,o.parentElement.childNodes[2].style.setProperty("text-decoration","none")),n.setCompleted(),f.storageUpdateProject(t)})),a&&a.addEventListener("change",(()=>{a.checked?(a.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),o.checked=!0,o.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"),d&&(d.checked=!0,d.parentElement.childNodes[2].style.setProperty("text-decoration","line-through"))):(a.parentElement.childNodes[2].style.setProperty("text-decoration","none"),o.checked=!1,o.parentElement.childNodes[2].style.setProperty("text-decoration","none"),d&&(d.checked=!1,d.parentElement.childNodes[2].style.setProperty("text-decoration","none"))),n.setCompleted(),f.storageUpdateProject(t)}))}static deleteTask(e,t){const n=document.getElementById(`del-${e}`),o=document.getElementById(`del-${e}-clone`),d=document.getElementById(`del-${e}-clone-week`);n.addEventListener("click",(n=>{n.target.parentElement.remove(),o&&o.parentElement.remove(),d&&d.parentElement.remove(),t.getTasks().splice(t.getTasks().findIndex((t=>t.getID()===e)),1),f.storageUpdateProject(t)})),o&&o.addEventListener("click",(o=>{o.target.parentElement.remove(),n.parentElement.remove(),d&&d.parentElement.remove(),t.getTasks().splice(t.getTasks().findIndex((t=>t.getID()===e)),1),f.storageUpdateProject(t)})),d&&d.addEventListener("click",(d=>{d.target.parentElement.remove(),n.parentElement.remove(),o&&o.parentElement.remove(),t.getTasks().splice(t.getTasks().findIndex((t=>t.getID()===e)),1),f.storageUpdateProject(t)}))}static checkFields(e,t){const n=document.querySelector(".empty-alert");if(e.classList.add("hidden"),n)return;const o=document.createElement("p");o.textContent="Please enter the description and due date of the task.",o.classList.add("empty-alert"),t.appendChild(o),setTimeout((function(){t.removeChild(o)}),2e3)}static cancelForm(){const e=document.getElementById("inbox-cancel-btn"),t=document.getElementById("add-task"),n=document.getElementById("inbox-form");e.addEventListener("click",(()=>{t.classList.remove("hidden"),n.classList.add("hidden")}))}}class A{static loadHomepage(){A.switchCategory(),f.initializeInboxTab(),E.initializeProjectsTab()}static switchCategory(){const e=document.querySelectorAll("[data-tab-target]"),t=document.querySelectorAll("[data-tab-content]");e.forEach((e=>{e.addEventListener("click",(()=>{const n=document.getElementById(e.dataset.tabTarget);t.forEach((e=>{e.classList.remove("active")})),n.classList.add("active")}))}))}}document.addEventListener("DOMContentLoaded",A.loadHomepage)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3N0eWxlLmNzcz83MTYzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL1Rhc2suanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvUHJvamVjdC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9Qcm9qZWN0c1VJLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL0luYm94VUkuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvSW5pdGlhbGl6ZVVJLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsImV4cG9ydHMiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwiY29uY2F0Iiwiam9pbiIsImkiLCJtb2R1bGVzIiwibWVkaWFRdWVyeSIsImRlZHVwZSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJsZW5ndGgiLCJfaSIsIl9hcnJheUxpa2VUb0FycmF5IiwiYXJyIiwibGVuIiwiYXJyMiIsIkFycmF5IiwiX2l0ZW0iLCJpc0FycmF5IiwiX2FycmF5V2l0aEhvbGVzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfcyIsIl9lIiwiX2FyciIsIl9uIiwiX2QiLCJjYWxsIiwibmV4dCIsImRvbmUiLCJ2YWx1ZSIsImVyciIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIm8iLCJtaW5MZW4iLCJuIiwiT2JqZWN0IiwicHJvdG90eXBlIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJmcm9tIiwidGVzdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIlR5cGVFcnJvciIsIl9ub25JdGVyYWJsZVJlc3QiLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290Iiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkU3R5bGUiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwic3BsaWNlIiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsIm5vbmNlIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0U3R5bGVFbGVtZW50IiwicmVtb3ZlQXR0cmlidXRlIiwic3R5bGVUYWdUcmFuc2Zvcm0iLCJhcHBseSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZVN0eWxlRWxlbWVudCIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiZmlyc3RDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJUYXNrIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwiY29tcGxldGVkIiwiRGF0ZSIsIm5vdyIsInNldERlc2NyaXB0aW9uIiwiZ2V0RGVzY3JpcHRpb24iLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInNldENvbXBsZXRlZCIsImdldENvbXBsZXRlZCIsImdldElEIiwiUHJvamVjdCIsInRhc2tzIiwic2V0TmFtZSIsImdldE5hbWUiLCJzZXRUYXNrcyIsImdldFRhc2tzIiwiYWRkVGFzayIsInRhc2siLCJQcm9qZWN0c1RhYiIsImFsbFByb2plY3RzU3RvcmFnZSIsImNyZWF0ZUZvcm0iLCJmb3JtUG9wVXAiLCJzdWJtaXRUb1Byb2plY3RzIiwiY2FuY2VsU3VibWlzc2lvbiIsImFkZFByb2plY3RCdG4iLCJnZXRFbGVtZW50QnlJZCIsInByb2plY3RzVGFiIiwiZm9ybSIsInRvZG9zIiwiZm9yRWFjaCIsInByb2plY3QiLCJwcm9qZWN0SlNPTiIsInBhcnNlIiwic2V0UHJvdG90eXBlT2YiLCJhZGRUYXNrQnRuIiwiaW5ib3giLCJyZW5kZXJQcm9qZWN0cyIsInRhc2tkZXNjcmlwdGlvbiIsInRhc2tmb3JtIiwicHJvamVjdERpdiIsInJlbmRlclRhc2tzIiwidmFsdWVzIiwia2V5cyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJjb2xsZWN0aW9uIiwiaW5jbHVkZXMiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsInByb2plY3RET01FbGVtZW50IiwiZGVsUHJvamVjdEJ0biIsInRleHRDb250ZW50IiwidGFiQ29udGVudCIsInByb2plY3RUaXRsZSIsImFkZFRhc2tUb1Byb2plY3QiLCJpbnNlcnRCZWZvcmUiLCJjbGFzc0xpc3QiLCJhZGQiLCJwcm9qZWN0Rm9ybSIsImFkZEZvcm1Ub1Byb2plY3QiLCJwcm9qZWN0Rm9ybVBvcFVwIiwic3VibWl0VGFza1RvUHJvamVjdCIsInByb2plY3REZWxldGUiLCJzd2l0Y2hDYXRlZ29yeSIsImFkZEV2ZW50TGlzdGVuZXIiLCJmaWx0ZXIiLCJzdG9yYWdlVXBkYXRlUHJvamVjdCIsInRhc2tET01FbGVtZW50IiwiaXNEb25lIiwiaW5uZXJIVE1MIiwibm9kZXMiLCJjaGlsZE5vZGVzIiwic2V0UHJvcGVydHkiLCJhZGRUb1RvZGF5IiwiYWRkVG9XZWVrIiwiZGVsZXRlVGFzayIsImNoZWNrRG9uZSIsInByb2plY3RzIiwic3VibWl0QnRuIiwicHJldmVudERlZmF1bHQiLCJjaGVja0ZpZWxkcyIsInNvbWUiLCJhbGVydCIsImFsZXJ0RXhpc3RzIiwibm90aWZ5RmllbGRzIiwic2V0VGltZW91dCIsImNhbmNlbFByb2plY3RCdG4iLCJjYW5jZWxUYXNrQnRuIiwiY2FuY2VsRm9ybSIsImNoZWNrSW5ib3hGaWVsZHMiLCJjaGVja2JveCIsImNoZWNrYm94Q2xvbmUiLCJjaGVja2JveENsb25lV2VlayIsImNoZWNrZWQiLCJwYXJlbnRFbGVtZW50IiwiYnRuIiwiYnRuQ2xvbmUiLCJidG5DbG9uZVdlZWsiLCJmaW5kSW5kZXgiLCJ0YXNrQ2xvbmUiLCJOdW1iZXIiLCJ0b2RheUNvbGxlY3Rpb24iLCJ3ZWVrQ29sbGVjdGlvbiIsInRhYnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwidGFiQ29udGVudHMiLCJ0YWIiLCJkYXRhc2V0IiwidGFiVGFyZ2V0IiwiSW5ib3hUYWIiLCJzdWJtaXRUb0luYm94IiwiYWRkRGVmYXVsdFByb2plY3QiLCJkZWZhdWx0UHJvamVjdCIsIlVJIiwibG9hZEhvbWVwYWdlIl0sIm1hcHBpbmdzIjoidUZBR0lBLEUsTUFBMEIsR0FBNEIsS0FF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dFZoQixNQUFNd0QsRUFDakIsc0JBQ0lBLEVBQUdsRCxpQkFFSCx1QkFDQSwwQkFHSix3QkFDSSxNQUFNd0MsRUFBT3JKLFNBQVNzSixpQkFBaUIscUJBQ2pDQyxFQUFjdkosU0FBU3NKLGlCQUFpQixzQkFFOUNELEVBQUsxRSxTQUFRNkUsSUFDVEEsRUFBSTFDLGlCQUFpQixTQUFTLEtBQzFCLE1BQU1oSCxFQUFTRSxTQUFTdUUsZUFBZWlGLEVBQUlDLFFBQVFDLFdBQ25ESCxFQUFZNUUsU0FBUXVCLElBQ2hCQSxFQUFXSSxVQUFVakgsT0FBTyxhQUVoQ1MsRUFBT3dHLFVBQVVDLElBQUksaUJDbEJyQ3ZHLFNBQVM4RyxpQkFBaUIsbUJBQW9CaUQsRUFBR0MsZSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIqLFxcbio6OmFmdGVyLFxcbio6OmJlZm9yZSB7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgcGFkZGluZzogMDtcXG4gIG1hcmdpbjogMDtcXG59XFxuXFxuaHRtbCxcXG5ib2R5IHtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiU2Vnb2UgVUlcXFwiLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGZvbnQtc2l6ZTogMS4xcmVtO1xcbn1cXG5cXG4udGl0bGUge1xcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIGJsYWNrO1xcbiAgcGFkZGluZzogMzBweDtcXG4gIGZvbnQtc2l6ZTogMS41cmVtO1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzQ0NDQ0NDtcXG59XFxuXFxuLmNvbnRlbnQge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNFREVERUQ7XFxufVxcblxcbi50b2RvLW5hdiB7XFxuICBib3JkZXItcmlnaHQ6IDJweCBzb2xpZCBibGFjaztcXG4gIHBhZGRpbmc6IDUwcHg7XFxuICB3aWR0aDogMzAwcHg7XFxufVxcblxcbi50b2RvLWNhdGVnb3JpZXMgbGksIGgzIHtcXG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcXG4gIHBhZGRpbmc6IDE1cHggMDtcXG59XFxuXFxuLnRvZG9zIHtcXG4gIG1hcmdpbjogNDBweCA1MHB4O1xcbn1cXG5cXG4jYWRkLXByb2plY3Qge1xcbiAgbWFyZ2luOiAxMHB4IDBweDtcXG59XFxuXFxuI3Byb2plY3RzLXRhYiBsaSBidXR0b24ge1xcbiAgbWFyZ2luOiAwIDEwcHg7XFxufVxcblxcbmJ1dHRvbiB7XFxuICBwYWRkaW5nOiAzcHg7XFxufVxcblxcbmZvcm0ge1xcbiAgbWFyZ2luOiAxNXB4IDBweDtcXG59XFxuXFxuW2RhdGEtdGFiLWNvbnRlbnRdIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbltkYXRhLXRhYi1jb250ZW50XSBwIHtcXG4gIHBhZGRpbmc6IDEwcHggMDtcXG59XFxuXFxuLmFjdGl2ZVtkYXRhLXRhYi1jb250ZW50XSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuXFxuLmhpZGRlbiB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4uZW1wdHktYWxlcnQge1xcbiAgY29sb3I6IHJlZDtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTs7O0VBR0Usc0JBQXNCO0VBQ3RCLFVBQVU7RUFDVixTQUFTO0FBQ1g7O0FBRUE7O0VBRUUsNERBQTREO0VBQzVELFlBQVk7RUFDWixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSw4QkFBOEI7RUFDOUIsYUFBYTtFQUNiLGlCQUFpQjtFQUNqQixZQUFZO0VBQ1oseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFlBQVk7RUFDWix5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSw2QkFBNkI7RUFDN0IsYUFBYTtFQUNiLFlBQVk7QUFDZDs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsY0FBYztBQUNoQjs7QUFFQTtFQUNFLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UsVUFBVTtBQUNaXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIiosXFxuKjo6YWZ0ZXIsXFxuKjo6YmVmb3JlIHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWFyZ2luOiAwO1xcbn1cXG5cXG5odG1sLFxcbmJvZHkge1xcbiAgZm9udC1mYW1pbHk6IFxcXCJTZWdvZSBVSVxcXCIsIFRhaG9tYSwgR2VuZXZhLCBWZXJkYW5hLCBzYW5zLXNlcmlmO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgZm9udC1zaXplOiAxLjFyZW07XFxufVxcblxcbi50aXRsZSB7XFxuICBib3JkZXItYm90dG9tOiAycHggc29saWQgYmxhY2s7XFxuICBwYWRkaW5nOiAzMHB4O1xcbiAgZm9udC1zaXplOiAxLjVyZW07XFxuICBjb2xvcjogd2hpdGU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0NDQ0O1xcbn1cXG5cXG4uY29udGVudCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0VERURFRDtcXG59XFxuXFxuLnRvZG8tbmF2IHtcXG4gIGJvcmRlci1yaWdodDogMnB4IHNvbGlkIGJsYWNrO1xcbiAgcGFkZGluZzogNTBweDtcXG4gIHdpZHRoOiAzMDBweDtcXG59XFxuXFxuLnRvZG8tY2F0ZWdvcmllcyBsaSwgaDMge1xcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xcbiAgcGFkZGluZzogMTVweCAwO1xcbn1cXG5cXG4udG9kb3Mge1xcbiAgbWFyZ2luOiA0MHB4IDUwcHg7XFxufVxcblxcbiNhZGQtcHJvamVjdCB7XFxuICBtYXJnaW46IDEwcHggMHB4O1xcbn1cXG5cXG4jcHJvamVjdHMtdGFiIGxpIGJ1dHRvbiB7XFxuICBtYXJnaW46IDAgMTBweDtcXG59XFxuXFxuYnV0dG9uIHtcXG4gIHBhZGRpbmc6IDNweDtcXG59XFxuXFxuZm9ybSB7XFxuICBtYXJnaW46IDE1cHggMHB4O1xcbn1cXG5cXG5bZGF0YS10YWItY29udGVudF0ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuW2RhdGEtdGFiLWNvbnRlbnRdIHAge1xcbiAgcGFkZGluZzogMTBweCAwO1xcbn1cXG5cXG4uYWN0aXZlW2RhdGEtdGFiLWNvbnRlbnRdIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5cXG4uaGlkZGVuIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi5lbXB0eS1hbGVydCB7XFxuICBjb2xvcjogcmVkO1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgdmFyIF9pID0gYXJyID09IG51bGwgPyBudWxsIDogdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9zLCBfZTsgdHJ5IHsgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSkge1xuICB2YXIgX2l0ZW0gPSBfc2xpY2VkVG9BcnJheShpdGVtLCA0KSxcbiAgICAgIGNvbnRlbnQgPSBfaXRlbVsxXSxcbiAgICAgIGNzc01hcHBpbmcgPSBfaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cblxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcblxuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cblxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoc3R5bGUsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGUpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoXCJtZWRpYVwiKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZSwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGUpIHtcbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhc2sge1xuICAgIGNvbnN0cnVjdG9yKGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBjb21wbGV0ZWQpIHtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uXG4gICAgICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGVcbiAgICAgICAgdGhpcy5jb21wbGV0ZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLmlkID0gRGF0ZS5ub3coKVxuICAgIH1cblxuICAgIHNldERlc2NyaXB0aW9uKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvblxuICAgIH1cblxuICAgIGdldERlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZXNjcmlwdGlvblxuICAgIH1cblxuICAgIHNldERhdGUoKSB7XG4gICAgICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGVcbiAgICB9XG5cbiAgICBnZXREYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kdWVEYXRlXG4gICAgfVxuXG4gICAgc2V0Q29tcGxldGVkKCkge1xuICAgICAgICB0aGlzLmNvbXBsZXRlZCA/IHRoaXMuY29tcGxldGVkID0gZmFsc2UgOiB0aGlzLmNvbXBsZXRlZCA9IHRydWVcbiAgICB9XG5cbiAgICBnZXRDb21wbGV0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlZFxuICAgIH1cblxuICAgIGdldElEKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pZFxuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9qZWN0IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICAgICAgdGhpcy50YXNrcyA9IFtdXG4gICAgfVxuXG4gICAgc2V0TmFtZShuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB9XG5cbiAgICBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lXG4gICAgfVxuXG4gICAgc2V0VGFza3ModGFza3MpIHtcbiAgICAgICAgdGhpcy50YXNrcyA9IHRhc2tzXG4gICAgfVxuXG4gICAgZ2V0VGFza3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhc2tzXG4gICAgfVxuXG4gICAgYWRkVGFzayh0YXNrKSB7XG4gICAgICAgIHRoaXMudGFza3MucHVzaCh0YXNrKVxuICAgIH1cbn0iLCJpbXBvcnQgVGFzayBmcm9tICcuL1Rhc2snXG5pbXBvcnQgUHJvamVjdCBmcm9tICcuL1Byb2plY3QnXG5pbXBvcnQgSW5ib3hVSSBmcm9tICcuL0luYm94VUknXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2plY3RzVGFiIHtcbiAgICBzdGF0aWMgY29sbGVjdGlvbiA9IFtdXG4gICAgc3RhdGljIHRvZGF5Q29sbGVjdGlvbiA9IFtdXG4gICAgc3RhdGljIHdlZWtDb2xsZWN0aW9uID0gW11cblxuICAgIHN0YXRpYyBpbml0aWFsaXplUHJvamVjdHNUYWIoKSB7XG5cbiAgICAgICAgY29uc3QgYWxsUHJvamVjdHNTdG9yYWdlID0gUHJvamVjdHNUYWIuYWxsUHJvamVjdHNTdG9yYWdlKClcblxuICAgICAgICBpZiAoIWFsbFByb2plY3RzU3RvcmFnZSkge1xuICAgICAgICAgICAgUHJvamVjdHNUYWIuY3JlYXRlRm9ybSgpXG4gICAgICAgICAgICBQcm9qZWN0c1RhYi5mb3JtUG9wVXAoKVxuICAgICAgICAgICAgUHJvamVjdHNUYWIuc3VibWl0VG9Qcm9qZWN0cygpXG4gICAgICAgICAgICBQcm9qZWN0c1RhYi5jYW5jZWxTdWJtaXNzaW9uKClcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFByb2plY3RzVGFiLmNyZWF0ZUZvcm0oKVxuICAgICAgICAgICAgUHJvamVjdHNUYWIuZm9ybVBvcFVwKClcbiAgICAgICAgICAgIFByb2plY3RzVGFiLnN1Ym1pdFRvUHJvamVjdHMoKVxuICAgICAgICAgICAgUHJvamVjdHNUYWIuY2FuY2VsU3VibWlzc2lvbigpXG5cbiAgICAgICAgICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLXByb2plY3QnKVxuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdC1kZXNjcmlwdGlvbicpXG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0c1RhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0cy10YWInKVxuICAgICAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0cy1mb3JtJylcbiAgICAgICAgICAgIGNvbnN0IHRvZG9zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZG9zJylcblxuICAgICAgICAgICAgYWxsUHJvamVjdHNTdG9yYWdlLmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdEpTT04gPSBKU09OLnBhcnNlKHByb2plY3QpXG4gICAgICAgICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHByb2plY3RKU09OLCBuZXcgUHJvamVjdClcblxuICAgICAgICAgICAgICAgIGlmIChwcm9qZWN0SlNPTi5nZXROYW1lKCkgPT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SlNPTi5nZXRUYXNrcygpLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRUYXNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC10YXNrJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2stZGVzY3JpcHRpb24nKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHVlRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkdWVEYXRlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5ib3gtZm9ybScpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmJveCcpXG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGFzaywgbmV3IFRhc2spXG4gICAgICAgICAgICAgICAgICAgICAgICBJbmJveFVJLnJlbmRlclRhc2tzKHRhc2ssIHByb2plY3RKU09OLCBpbmJveCwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIGZvcm0sIGFkZFRhc2tCdG4pXG5cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBQcm9qZWN0c1RhYi5yZW5kZXJQcm9qZWN0cyhwcm9qZWN0SlNPTiwgdG9kb3MsIHByb2plY3RzVGFiLCBkZXNjcmlwdGlvbiwgZm9ybSwgYWRkUHJvamVjdEJ0bilcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRUYXNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGFkZC10YXNrLXRvLSR7cHJvamVjdEpTT04uZ2V0TmFtZSgpfWApXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB0YXNrLWRlc2NyaXB0aW9uLSR7cHJvamVjdEpTT04uZ2V0TmFtZSgpfWApXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGR1ZURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZHVlRGF0ZS0ke3Byb2plY3RKU09OLmdldE5hbWUoKX1gKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXNrZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3Byb2plY3RKU09OLmdldE5hbWUoKX0tZm9ybWApXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3REaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtwcm9qZWN0SlNPTi5nZXROYW1lKCl9YClcblxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SlNPTi5nZXRUYXNrcygpLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0YXNrLCBuZXcgVGFzaylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9qZWN0c1RhYi5yZW5kZXJUYXNrcyh0YXNrLCBwcm9qZWN0SlNPTiwgcHJvamVjdERpdiwgdGFza2Rlc2NyaXB0aW9uLCBkdWVEYXRlLCB0YXNrZm9ybSwgYWRkVGFza0J0bilcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGFsbFByb2plY3RzU3RvcmFnZSgpIHtcblxuICAgICAgICBsZXQgdmFsdWVzID0gW11cbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSlcbiAgICAgICAgbGV0IGkgPSBrZXlzLmxlbmd0aFxuICAgICAgICB3aGlsZSAoaS0tKSB7XG5cbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleXNbaV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgc3RhdGljIHN0b3JhZ2VVcGRhdGVQcm9qZWN0KHByb2plY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuY29sbGVjdGlvbi5pbmNsdWRlcyhwcm9qZWN0KSkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYCR7cHJvamVjdC5nZXROYW1lKCl9YCwgSlNPTi5zdHJpbmdpZnkocHJvamVjdCkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShgJHtwcm9qZWN0LmdldE5hbWUoKX1gKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHJlbmRlclByb2plY3RzKHByb2plY3QsIHRvZG9zLCBwcm9qZWN0c1RhYiwgZGVzY3JpcHRpb24sIGZvcm0sIGFkZFByb2plY3RCdG4pIHtcbiAgICAgICAgUHJvamVjdHNUYWIuY29sbGVjdGlvbi5wdXNoKHByb2plY3QpXG4gICAgICAgIGNvbnN0IHByb2plY3RET01FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKVxuXG4gICAgICAgIGNvbnN0IGRlbFByb2plY3RCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICAgICAgICBkZWxQcm9qZWN0QnRuLmlkID0gYGRlbC0ke3Byb2plY3R9YFxuICAgICAgICBkZWxQcm9qZWN0QnRuLnRleHRDb250ZW50ID0gYGRlbGV0ZWBcblxuICAgICAgICBwcm9qZWN0RE9NRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFiLXRhcmdldCcsIGAke3Byb2plY3QuZ2V0TmFtZSgpfWApXG4gICAgICAgIHByb2plY3RET01FbGVtZW50LnRleHRDb250ZW50ID0gYCR7cHJvamVjdC5nZXROYW1lKCl9YFxuXG4gICAgICAgIHByb2plY3RET01FbGVtZW50LmFwcGVuZENoaWxkKGRlbFByb2plY3RCdG4pXG5cbiAgICAgICAgY29uc3QgdGFiQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIHRhYkNvbnRlbnQuaWQgPSBgJHtwcm9qZWN0LmdldE5hbWUoKX1gXG4gICAgICAgIHRhYkNvbnRlbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRhYi1jb250ZW50JywgJycpXG4gICAgICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJylcbiAgICAgICAgcHJvamVjdFRpdGxlLnRleHRDb250ZW50ID0gYCR7cHJvamVjdC5nZXROYW1lKCl9YFxuICAgICAgICBjb25zdCBhZGRUYXNrVG9Qcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gICAgICAgIGFkZFRhc2tUb1Byb2plY3QudGV4dENvbnRlbnQgPSAnKyBBZGQgVGFzaydcbiAgICAgICAgYWRkVGFza1RvUHJvamVjdC5pZCA9IGBhZGQtdGFzay10by0ke3Byb2plY3QuZ2V0TmFtZSgpfWBcbiAgICAgICAgdGFiQ29udGVudC5hcHBlbmRDaGlsZChwcm9qZWN0VGl0bGUpXG4gICAgICAgIHRhYkNvbnRlbnQuYXBwZW5kQ2hpbGQoYWRkVGFza1RvUHJvamVjdClcbiAgICAgICAgdG9kb3MuYXBwZW5kQ2hpbGQodGFiQ29udGVudClcblxuICAgICAgICBwcm9qZWN0c1RhYi5pbnNlcnRCZWZvcmUocHJvamVjdERPTUVsZW1lbnQsIGFkZFByb2plY3RCdG4pXG4gICAgICAgIGRlc2NyaXB0aW9uLnZhbHVlID0gXCJcIlxuICAgICAgICBmb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG5cbiAgICAgICAgY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJylcbiAgICAgICAgY29uc3QgcHJvamVjdERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3Byb2plY3QuZ2V0TmFtZSgpfWApXG5cbiAgICAgICAgUHJvamVjdHNUYWIuYWRkRm9ybVRvUHJvamVjdChwcm9qZWN0LCBwcm9qZWN0Rm9ybSwgcHJvamVjdERpdilcbiAgICAgICAgUHJvamVjdHNUYWIucHJvamVjdEZvcm1Qb3BVcChhZGRUYXNrVG9Qcm9qZWN0LCBwcm9qZWN0Rm9ybSlcbiAgICAgICAgUHJvamVjdHNUYWIuc3VibWl0VGFza1RvUHJvamVjdChwcm9qZWN0LCBwcm9qZWN0RGl2KVxuICAgICAgICBQcm9qZWN0c1RhYi5wcm9qZWN0RGVsZXRlKHByb2plY3QsIHByb2plY3RET01FbGVtZW50LCBkZWxQcm9qZWN0QnRuKVxuICAgICAgICBQcm9qZWN0c1RhYi5zd2l0Y2hDYXRlZ29yeSgpXG4gICAgfVxuXG4gICAgc3RhdGljIHByb2plY3REZWxldGUocHJvamVjdCwgcHJvamVjdERPTUVsZW1lbnQsIGRlbFByb2plY3RCdG4pIHtcbiAgICAgICAgZGVsUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHByb2plY3RET01FbGVtZW50LnJlbW92ZSgpXG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24gPSB0aGlzLmNvbGxlY3Rpb24uZmlsdGVyKG9iaiA9PiBvYmouZ2V0TmFtZSgpICE9PSBwcm9qZWN0LmdldE5hbWUoKSlcbiAgICAgICAgICAgIFByb2plY3RzVGFiLnN0b3JhZ2VVcGRhdGVQcm9qZWN0KHByb2plY3QpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIHJlbmRlclRhc2tzKHRhc2ssIHByb2plY3QsIHByb2plY3REaXYsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBmb3JtLCBhZGRUYXNrQnRuKSB7XG4gICAgICAgIGNvbnN0IHRhc2tET01FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gICAgICAgIHRhc2tET01FbGVtZW50LmlkID0gdGFzay5nZXRJRCgpXG4gICAgICAgIGNvbnN0IGlzRG9uZSA9IGAke3Rhc2suZ2V0RGVzY3JpcHRpb24oKX0gJHt0YXNrLmdldENvbXBsZXRlZCgpfWBcblxuICAgICAgICB0YXNrRE9NRWxlbWVudC5pbm5lckhUTUwgPSBgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiJHtpc0RvbmV9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPiR7dGFzay5nZXREZXNjcmlwdGlvbigpfSB8IGR1ZTogJHt0YXNrLmdldERhdGUoKX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9J2RlbC0ke3Rhc2suZ2V0SUQoKX0nPmRlbGV0ZTwvYnV0dG9uPmBcblxuXG4gICAgICAgIGNvbnN0IG5vZGVzID0gdGFza0RPTUVsZW1lbnQuY2hpbGROb2Rlc1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChub2Rlc1tpXS5zdHlsZSkge1xuICAgICAgICAgICAgICAgIG5vZGVzW2ldLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ2lubGluZScpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm9qZWN0RGl2Lmluc2VydEJlZm9yZSh0YXNrRE9NRWxlbWVudCwgYWRkVGFza0J0bilcbiAgICAgICAgZGVzY3JpcHRpb24udmFsdWUgPSBcIlwiXG4gICAgICAgIGR1ZURhdGUudmFsdWUgPSBcIlwiXG4gICAgICAgIGZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcblxuICAgICAgICBQcm9qZWN0c1RhYi5hZGRUb1RvZGF5KHRhc2spXG4gICAgICAgIFByb2plY3RzVGFiLmFkZFRvV2Vlayh0YXNrKVxuICAgICAgICBQcm9qZWN0c1RhYi5kZWxldGVUYXNrKHRhc2suZ2V0SUQoKSwgcHJvamVjdClcbiAgICAgICAgUHJvamVjdHNUYWIuY2hlY2tEb25lKGlzRG9uZSwgcHJvamVjdCwgdGFzaylcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlRm9ybSgpIHtcbiAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKVxuICAgICAgICBjb25zdCBwcm9qZWN0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0cy10YWInKVxuICAgICAgICBmb3JtLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgICA8Zm9ybSBhY3Rpb249XCIjXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwicHJvamVjdC1kZXNjcmlwdGlvblwiIG5hbWU9XCJkZXNjcmlwdGlvblwiIHBsYWNlaG9sZGVyPVwicHJvamVjdFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGlkPVwicHJvamVjdHMtc3VibWl0LWJ0blwiPlN1Ym1pdDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBpZD1cInByb2plY3RzLWNhbmNlbC1idG5cIj5DYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICBgXG4gICAgICAgIGZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICAgICAgZm9ybS5pZCA9ICdwcm9qZWN0cy1mb3JtJ1xuICAgICAgICBwcm9qZWN0cy5hcHBlbmRDaGlsZChmb3JtKVxuICAgIH1cblxuICAgIHN0YXRpYyBmb3JtUG9wVXAoKSB7XG4gICAgICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLXByb2plY3QnKVxuICAgICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RzLWZvcm0nKVxuXG4gICAgICAgIGFkZFByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBhZGRQcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgICAgICAgICBmb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIHN1Ym1pdFRvUHJvamVjdHMoKSB7XG4gICAgICAgIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0cy1zdWJtaXQtYnRuJylcbiAgICAgICAgY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtcHJvamVjdCcpXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3QtZGVzY3JpcHRpb24nKVxuICAgICAgICBjb25zdCBwcm9qZWN0c1RhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0cy10YWInKVxuICAgICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RzLWZvcm0nKVxuICAgICAgICBjb25zdCB0b2RvcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RvcycpXG5cbiAgICAgICAgc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgICAgICBhZGRQcm9qZWN0QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG5cbiAgICAgICAgICAgIGlmIChkZXNjcmlwdGlvbi52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgIFByb2plY3RzVGFiLmNoZWNrRmllbGRzKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKFByb2plY3RzVGFiLmNvbGxlY3Rpb24uc29tZShwcm9qZWN0ID0+IHByb2plY3QuZ2V0TmFtZSgpID09PSBkZXNjcmlwdGlvbi52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBhbGVydChcIlRoaXMgcHJvamVjdCBhbHJlYWR5IGV4aXN0cyFcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3QgPSBuZXcgUHJvamVjdChkZXNjcmlwdGlvbi52YWx1ZSlcblxuICAgICAgICAgICAgICAgIFByb2plY3RzVGFiLnJlbmRlclByb2plY3RzKHByb2plY3QsIHRvZG9zLCBwcm9qZWN0c1RhYiwgZGVzY3JpcHRpb24sIGZvcm0sIGFkZFByb2plY3RCdG4pXG5cbiAgICAgICAgICAgICAgICBQcm9qZWN0c1RhYi5zdG9yYWdlVXBkYXRlUHJvamVjdChwcm9qZWN0KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyBjaGVja0ZpZWxkcygpIHtcbiAgICAgICAgY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtcHJvamVjdCcpXG4gICAgICAgIGNvbnN0IHByb2plY3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RzLXRhYicpXG4gICAgICAgIGNvbnN0IGFsZXJ0RXhpc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbXB0eS1hbGVydFwiKVxuXG4gICAgICAgIGFkZFByb2plY3RCdG4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKVxuXG4gICAgICAgIGlmIChhbGVydEV4aXN0cykge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBub3RpZnlGaWVsZHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcbiAgICAgICAgbm90aWZ5RmllbGRzLnRleHRDb250ZW50ID0gXCJQbGVhc2UgZW50ZXIgdGhlIHRpdGxlIG9mIHRoZSBwcm9qZWN0LlwiXG4gICAgICAgIG5vdGlmeUZpZWxkcy5jbGFzc0xpc3QuYWRkKCdlbXB0eS1hbGVydCcpXG5cbiAgICAgICAgcHJvamVjdHMuYXBwZW5kQ2hpbGQobm90aWZ5RmllbGRzKVxuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcHJvamVjdHMucmVtb3ZlQ2hpbGQobm90aWZ5RmllbGRzKVxuICAgICAgICB9LCAyMDAwKVxuICAgIH1cblxuICAgIHN0YXRpYyBjaGVja0luYm94RmllbGRzKGFkZFRhc2tCdG4sIGluYm94KSB7XG4gICAgICAgIGNvbnN0IGFsZXJ0RXhpc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbXB0eS1hbGVydFwiKVxuXG4gICAgICAgIGFkZFRhc2tCdG4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKVxuXG4gICAgICAgIGlmIChhbGVydEV4aXN0cykge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBub3RpZnlGaWVsZHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcbiAgICAgICAgbm90aWZ5RmllbGRzLnRleHRDb250ZW50ID0gXCJQbGVhc2UgZW50ZXIgdGhlIGRlc2NyaXB0aW9uIGFuZCBkdWUgZGF0ZSBvZiB0aGUgdGFzay5cIlxuICAgICAgICBub3RpZnlGaWVsZHMuY2xhc3NMaXN0LmFkZCgnZW1wdHktYWxlcnQnKVxuXG4gICAgICAgIGluYm94LmFwcGVuZENoaWxkKG5vdGlmeUZpZWxkcylcblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGluYm94LnJlbW92ZUNoaWxkKG5vdGlmeUZpZWxkcylcbiAgICAgICAgfSwgMjAwMClcbiAgICB9XG5cbiAgICBzdGF0aWMgY2FuY2VsU3VibWlzc2lvbigpIHtcbiAgICAgICAgY29uc3QgY2FuY2VsUHJvamVjdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0cy1jYW5jZWwtYnRuJylcbiAgICAgICAgY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtcHJvamVjdCcpXG4gICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdHMtZm9ybScpXG5cbiAgICAgICAgY2FuY2VsUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGFkZFByb2plY3RCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcbiAgICAgICAgICAgIGZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBzdGF0aWMgY2FuY2VsRm9ybShwcm9qZWN0KSB7XG4gICAgICAgIGNvbnN0IGNhbmNlbFRhc2tCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtwcm9qZWN0LmdldE5hbWUoKX0tY2FuY2VsLWJ0bmApXG4gICAgICAgIGNvbnN0IGFkZFRhc2tCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYWRkLXRhc2stdG8tJHtwcm9qZWN0LmdldE5hbWUoKX1gKVxuICAgICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7cHJvamVjdC5nZXROYW1lKCl9LWZvcm1gKVxuXG4gICAgICAgIGNhbmNlbFRhc2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBhZGRUYXNrQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgICAgICAgICBmb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIGFkZEZvcm1Ub1Byb2plY3QocHJvamVjdCwgcHJvamVjdEZvcm0sIHByb2plY3REaXYpIHtcbiAgICAgICAgcHJvamVjdEZvcm0uaW5uZXJIVE1MID0gYFxuICAgICAgICA8Zm9ybSBhY3Rpb249XCIjXCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cInRhc2stZGVzY3JpcHRpb24tJHtwcm9qZWN0LmdldE5hbWUoKX1cIiBuYW1lPVwiZGVzY3JpcHRpb25cIiBwbGFjZWhvbGRlcj1cInRhc2tcIiAvPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRlXCIgaWQ9XCJkdWVEYXRlLSR7cHJvamVjdC5nZXROYW1lKCl9XCIgbmFtZT1cImR1ZURhdGVcIiBwbGFjZWhvbGRlcj1cImR1ZSBkYXRlXCIgLz5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGlkPVwiJHtwcm9qZWN0LmdldE5hbWUoKX0tc3VibWl0LWJ0blwiPlN1Ym1pdDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCIke3Byb2plY3QuZ2V0TmFtZSgpfS1jYW5jZWwtYnRuXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgIDwvZm9ybT5gXG5cbiAgICAgICAgcHJvamVjdEZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICAgICAgcHJvamVjdEZvcm0uaWQgPSBgJHtwcm9qZWN0LmdldE5hbWUoKX0tZm9ybWBcbiAgICAgICAgcHJvamVjdERpdi5hcHBlbmRDaGlsZChwcm9qZWN0Rm9ybSlcblxuICAgICAgICBQcm9qZWN0c1RhYi5jYW5jZWxGb3JtKHByb2plY3QpXG4gICAgfVxuXG4gICAgc3RhdGljIHByb2plY3RGb3JtUG9wVXAoYWRkVGFza1RvUHJvamVjdCwgcHJvamVjdEZvcm0pIHtcbiAgICAgICAgYWRkVGFza1RvUHJvamVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGFkZFRhc2tUb1Byb2plY3QuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICAgICAgICAgIHByb2plY3RGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIHN1Ym1pdFRhc2tUb1Byb2plY3QocHJvamVjdCwgcHJvamVjdERpdikge1xuICAgICAgICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtwcm9qZWN0LmdldE5hbWUoKX0tc3VibWl0LWJ0bmApXG4gICAgICAgIGNvbnN0IGFkZFRhc2tCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYWRkLXRhc2stdG8tJHtwcm9qZWN0LmdldE5hbWUoKX1gKVxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB0YXNrLWRlc2NyaXB0aW9uLSR7cHJvamVjdC5nZXROYW1lKCl9YClcbiAgICAgICAgY29uc3QgZHVlRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBkdWVEYXRlLSR7cHJvamVjdC5nZXROYW1lKCl9YClcbiAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3Byb2plY3QuZ2V0TmFtZSgpfS1mb3JtYClcblxuICAgICAgICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgICAgIGFkZFRhc2tCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcblxuICAgICAgICAgICAgaWYgKGRlc2NyaXB0aW9uLnZhbHVlID09PSBcIlwiIHx8IGR1ZURhdGUudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBQcm9qZWN0c1RhYi5jaGVja0luYm94RmllbGRzKGFkZFRhc2tCdG4sIHByb2plY3REaXYpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwcm9qZWN0LmdldFRhc2tzKCkuc29tZSh0YXNrID0+IHRhc2suZ2V0RGVzY3JpcHRpb24oKSA9PT0gZGVzY3JpcHRpb24udmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJUaGlzIHRvZG8gYWxyZWFkeSBleGlzdHMhXCIpXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb24udmFsdWUgPSBcIlwiXG4gICAgICAgICAgICAgICAgZHVlRGF0ZS52YWx1ZSA9IFwiXCJcbiAgICAgICAgICAgICAgICBmb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrID0gbmV3IFRhc2soZGVzY3JpcHRpb24udmFsdWUsIGR1ZURhdGUudmFsdWUpXG4gICAgICAgICAgICAgICAgcHJvamVjdC5hZGRUYXNrKHRhc2spXG4gICAgICAgICAgICAgICAgUHJvamVjdHNUYWIuc3RvcmFnZVVwZGF0ZVByb2plY3QocHJvamVjdClcblxuICAgICAgICAgICAgICAgIFByb2plY3RzVGFiLnJlbmRlclRhc2tzKHRhc2ssIHByb2plY3QsIHByb2plY3REaXYsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBmb3JtLCBhZGRUYXNrQnRuKVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIGNoZWNrRG9uZShpc0RvbmUsIHByb2plY3QsIHRhc2spIHtcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpc0RvbmUpXG4gICAgICAgIGNvbnN0IGNoZWNrYm94Q2xvbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtpc0RvbmV9LWNsb25lYClcbiAgICAgICAgY29uc3QgY2hlY2tib3hDbG9uZVdlZWsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtpc0RvbmV9LWNsb25lLXdlZWtgKVxuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRhc2suZ2V0Q29tcGxldGVkKCkpIHtcbiAgICAgICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gdHJ1ZVxuICAgICAgICAgICAgICAgIGNoZWNrYm94LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ2xpbmUtdGhyb3VnaCcpXG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94Q2xvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5jaGVja2VkID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lLnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ2xpbmUtdGhyb3VnaCcpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGVja2JveENsb25lV2Vlaykge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lV2Vlay5jaGVja2VkID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lV2Vlay5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdsaW5lLXRocm91Z2gnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgY2hlY2tib3gucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbm9uZScpXG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94Q2xvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5jaGVja2VkID0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdub25lJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94Q2xvbmVXZWVrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmVXZWVrLmNoZWNrZWQgPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lV2Vlay5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdub25lJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICBjaGVja2JveC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdsaW5lLXRocm91Z2gnKVxuICAgICAgICAgICAgICAgIGlmIChjaGVja2JveENsb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmUuY2hlY2tlZCA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdsaW5lLXRocm91Z2gnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hDbG9uZVdlZWspIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZVdlZWsuY2hlY2tlZCA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZVdlZWsucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbGluZS10aHJvdWdoJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoZWNrYm94LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ25vbmUnKVxuICAgICAgICAgICAgICAgIGlmIChjaGVja2JveENsb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmUuY2hlY2tlZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmUucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbm9uZScpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGVja2JveENsb25lV2Vlaykge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lV2Vlay5jaGVja2VkID0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZVdlZWsucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbm9uZScpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFzay5zZXRDb21wbGV0ZWQoKVxuICAgICAgICAgICAgUHJvamVjdHNUYWIuc3RvcmFnZVVwZGF0ZVByb2plY3QocHJvamVjdClcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoY2hlY2tib3hDbG9uZSkge1xuICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94Q2xvbmUuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lLnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ2xpbmUtdGhyb3VnaCcpXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ2xpbmUtdGhyb3VnaCcpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdub25lJylcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ25vbmUnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0YXNrLnNldENvbXBsZXRlZCgpXG4gICAgICAgICAgICAgICAgUHJvamVjdHNUYWIuc3RvcmFnZVVwZGF0ZVByb2plY3QocHJvamVjdClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hlY2tib3hDbG9uZVdlZWspIHtcbiAgICAgICAgICAgIGNoZWNrYm94Q2xvbmVXZWVrLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hDbG9uZVdlZWsuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lV2Vlay5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdsaW5lLXRocm91Z2gnKVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdsaW5lLXRocm91Z2gnKVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hDbG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5jaGVja2VkID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdsaW5lLXRocm91Z2gnKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZVdlZWsucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbm9uZScpXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdub25lJylcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94Q2xvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmUuY2hlY2tlZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lLnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ25vbmUnKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhc2suc2V0Q29tcGxldGVkKClcbiAgICAgICAgICAgICAgICBQcm9qZWN0c1RhYi5zdG9yYWdlVXBkYXRlUHJvamVjdChwcm9qZWN0KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBkZWxldGVUYXNrKGlkLCBwcm9qZWN0KSB7XG4gICAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBkZWwtJHtpZH1gKVxuICAgICAgICBjb25zdCBidG5DbG9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBkZWwtJHtpZH0tY2xvbmVgKVxuICAgICAgICBjb25zdCBidG5DbG9uZVdlZWsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZGVsLSR7aWR9LWNsb25lLXdlZWtgKVxuXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpXG4gICAgICAgICAgICBpZiAoYnRuQ2xvbmUpIHtcbiAgICAgICAgICAgICAgICBidG5DbG9uZS5wYXJlbnRFbGVtZW50LnJlbW92ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnRuQ2xvbmVXZWVrKSB7XG4gICAgICAgICAgICAgICAgYnRuQ2xvbmVXZWVrLnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb2plY3QuZ2V0VGFza3MoKVxuICAgICAgICAgICAgICAgIC5zcGxpY2UocHJvamVjdC5nZXRUYXNrcygpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kSW5kZXgoXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrID0+IHRhc2suZ2V0SUQoKSA9PT0gaWRcbiAgICAgICAgICAgICAgICAgICAgKSwgMSlcbiAgICAgICAgICAgIFByb2plY3RzVGFiLnN0b3JhZ2VVcGRhdGVQcm9qZWN0KHByb2plY3QpXG4gICAgICAgIH0pXG4gICAgICAgIGlmIChidG5DbG9uZSkge1xuICAgICAgICAgICAgYnRuQ2xvbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgICAgICBidG4ucGFyZW50RWxlbWVudC5yZW1vdmUoKVxuICAgICAgICAgICAgICAgIGlmIChidG5DbG9uZVdlZWspIHtcbiAgICAgICAgICAgICAgICAgICAgYnRuQ2xvbmVXZWVrLnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJvamVjdC5nZXRUYXNrcygpXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpY2UocHJvamVjdC5nZXRUYXNrcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZEluZGV4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sgPT4gdGFzay5nZXRJRCgpID09PSBpZFxuICAgICAgICAgICAgICAgICAgICAgICAgKSwgMSlcbiAgICAgICAgICAgICAgICBQcm9qZWN0c1RhYi5zdG9yYWdlVXBkYXRlUHJvamVjdChwcm9qZWN0KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnRuQ2xvbmVXZWVrKSB7XG4gICAgICAgICAgICBidG5DbG9uZVdlZWsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgICAgICBidG4ucGFyZW50RWxlbWVudC5yZW1vdmUoKVxuICAgICAgICAgICAgICAgIGlmIChidG5DbG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBidG5DbG9uZS5wYXJlbnRFbGVtZW50LnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb2plY3QuZ2V0VGFza3MoKVxuICAgICAgICAgICAgICAgICAgICAuc3BsaWNlKHByb2plY3QuZ2V0VGFza3MoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrID0+IHRhc2suZ2V0SUQoKSA9PT0gaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICksIDEpXG4gICAgICAgICAgICAgICAgUHJvamVjdHNUYWIuc3RvcmFnZVVwZGF0ZVByb2plY3QocHJvamVjdClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgYWRkVG9Ub2RheSh0YXNrKSB7XG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBQcm9qZWN0c1RhYi5jb2xsZWN0aW9uXG4gICAgICAgIGNvbnN0IHRhYkNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kYXktY29udGVudCcpXG5cbiAgICAgICAgY29uc3QgdGFza0Nsb25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgY29uc3QgaXNEb25lID0gYCR7dGFzay5nZXREZXNjcmlwdGlvbigpfSAke3Rhc2suZ2V0Q29tcGxldGVkKCl9LWNsb25lYFxuICAgICAgICB0YXNrQ2xvbmUuaWQgPSBgJHt0YXNrLmdldElEKCl9LWNsb25lYFxuICAgICAgICB0YXNrQ2xvbmUuaW5uZXJIVE1MID0gYDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cIiR7aXNEb25lfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4ke3Rhc2suZ2V0RGVzY3JpcHRpb24oKX0gfCBkdWU6ICR7dGFzay5nZXREYXRlKCl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSdkZWwtJHt0YXNrLmdldElEKCl9LWNsb25lJz5kZWxldGU8L2J1dHRvbj5gXG5cbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0YXNrQ2xvbmUuY2hpbGROb2Rlc1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChub2Rlc1tpXS5zdHlsZSkge1xuICAgICAgICAgICAgICAgIG5vZGVzW2ldLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ2lubGluZScpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbGxlY3Rpb24uZm9yRWFjaChwcm9qZWN0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tzID0gcHJvamVjdC5nZXRUYXNrcygpXG4gICAgICAgICAgICB0YXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRheSA9IE51bWJlcih0YXNrLmR1ZURhdGUuc2xpY2UoLTIpKVxuICAgICAgICAgICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKVxuICAgICAgICAgICAgICAgIGNvbnN0IGRheVRvZGF5ID0gdG9kYXkuZ2V0RGF0ZSgpXG4gICAgICAgICAgICAgICAgaWYgKGRheSA9PT0gZGF5VG9kYXkgJiYgIVByb2plY3RzVGFiLnRvZGF5Q29sbGVjdGlvbi5pbmNsdWRlcyh0YXNrKSkge1xuICAgICAgICAgICAgICAgICAgICBQcm9qZWN0c1RhYi50b2RheUNvbGxlY3Rpb24ucHVzaCh0YXNrKVxuICAgICAgICAgICAgICAgICAgICB0YWJDb250ZW50LmFwcGVuZENoaWxkKHRhc2tDbG9uZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyBhZGRUb1dlZWsodGFzaykge1xuICAgICAgICBjb25zdCBjb2xsZWN0aW9uID0gUHJvamVjdHNUYWIuY29sbGVjdGlvblxuICAgICAgICBjb25zdCB0YWJDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoaXMtd2Vlay1jb250ZW50JylcblxuICAgICAgICBjb25zdCB0YXNrQ2xvbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBjb25zdCBpc0RvbmUgPSBgJHt0YXNrLmdldERlc2NyaXB0aW9uKCl9ICR7dGFzay5nZXRDb21wbGV0ZWQoKX0tY2xvbmUtd2Vla2BcbiAgICAgICAgdGFza0Nsb25lLmlkID0gYCR7dGFzay5nZXRJRCgpfS1jbG9uZS13ZWVrYFxuICAgICAgICB0YXNrQ2xvbmUuaW5uZXJIVE1MID0gYDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cIiR7aXNEb25lfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4ke3Rhc2suZ2V0RGVzY3JpcHRpb24oKX0gfCBkdWU6ICR7dGFzay5nZXREYXRlKCl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSdkZWwtJHt0YXNrLmdldElEKCl9LWNsb25lLXdlZWsnPmRlbGV0ZTwvYnV0dG9uPmBcblxuICAgICAgICBjb25zdCBub2RlcyA9IHRhc2tDbG9uZS5jaGlsZE5vZGVzXG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG5vZGVzW2ldLnN0eWxlKSB7XG4gICAgICAgICAgICAgICAgbm9kZXNbaV0uc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnaW5saW5lJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbGxlY3Rpb24uZm9yRWFjaChwcm9qZWN0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tzID0gcHJvamVjdC5nZXRUYXNrcygpXG4gICAgICAgICAgICB0YXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRheSA9IE51bWJlcih0YXNrLmR1ZURhdGUuc2xpY2UoLTIpKVxuICAgICAgICAgICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKVxuICAgICAgICAgICAgICAgIGNvbnN0IGRheVRvZGF5ID0gdG9kYXkuZ2V0RGF0ZSgpXG4gICAgICAgICAgICAgICAgaWYgKChkYXkgLSBkYXlUb2RheSkgPD0gNyAmJiAhUHJvamVjdHNUYWIud2Vla0NvbGxlY3Rpb24uaW5jbHVkZXModGFzaykpIHtcbiAgICAgICAgICAgICAgICAgICAgUHJvamVjdHNUYWIud2Vla0NvbGxlY3Rpb24ucHVzaCh0YXNrKVxuICAgICAgICAgICAgICAgICAgICB0YWJDb250ZW50LmFwcGVuZENoaWxkKHRhc2tDbG9uZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyBzd2l0Y2hDYXRlZ29yeSgpIHtcbiAgICAgICAgY29uc3QgdGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRhYi10YXJnZXRdJylcbiAgICAgICAgY29uc3QgdGFiQ29udGVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS10YWItY29udGVudF0nKVxuXG4gICAgICAgIHRhYnMuZm9yRWFjaCh0YWIgPT4ge1xuICAgICAgICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhYi5kYXRhc2V0LnRhYlRhcmdldClcbiAgICAgICAgICAgICAgICB0YWJDb250ZW50cy5mb3JFYWNoKHRhYkNvbnRlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0YWJDb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxufSIsImltcG9ydCBUYXNrIGZyb20gJy4vVGFzaydcbmltcG9ydCBQcm9qZWN0IGZyb20gJy4vUHJvamVjdCdcbmltcG9ydCBQcm9qZWN0c1VJIGZyb20gJy4vUHJvamVjdHNVSSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5ib3hUYWIge1xuICAgIHN0YXRpYyBkZWZhdWx0UHJvamVjdCA9IG5ldyBQcm9qZWN0KCdkZWZhdWx0JylcblxuICAgIHN0YXRpYyBpbml0aWFsaXplSW5ib3hUYWIoKSB7XG5cbiAgICAgICAgSW5ib3hUYWIuY3JlYXRlRm9ybSgpXG4gICAgICAgIEluYm94VGFiLmZvcm1Qb3BVcCgpXG4gICAgICAgIEluYm94VGFiLnN1Ym1pdFRvSW5ib3goKVxuICAgICAgICBJbmJveFRhYi5jYW5jZWxGb3JtKClcbiAgICAgICAgSW5ib3hUYWIuYWRkRGVmYXVsdFByb2plY3QoKVxuICAgIH1cblxuICAgIHN0YXRpYyBzdG9yYWdlVXBkYXRlUHJvamVjdChwcm9qZWN0KSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGAke0luYm94VGFiLmRlZmF1bHRQcm9qZWN0LmdldE5hbWUoKX1gLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0KSlcbiAgICB9XG5cbiAgICBzdGF0aWMgYWRkRGVmYXVsdFByb2plY3QoKSB7XG4gICAgICAgIFByb2plY3RzVUkuY29sbGVjdGlvbi5wdXNoKEluYm94VGFiLmRlZmF1bHRQcm9qZWN0KVxuICAgIH1cblxuICAgIHN0YXRpYyByZW5kZXJUYXNrcyh0YXNrLCBwcm9qZWN0LCBpbmJveCwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIGZvcm0sIGFkZFRhc2tCdG4pIHtcbiAgICAgICAgY29uc3QgdGFza0RPTUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICB0YXNrRE9NRWxlbWVudC5pZCA9IHRhc2suZ2V0SUQoKVxuICAgICAgICBjb25zdCBpc0RvbmUgPSBgJHt0YXNrLmdldERlc2NyaXB0aW9uKCl9ICR7dGFzay5nZXRDb21wbGV0ZWQoKX1gXG5cbiAgICAgICAgdGFza0RPTUVsZW1lbnQuaW5uZXJIVE1MID0gYDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cIiR7aXNEb25lfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4ke3Rhc2suZ2V0RGVzY3JpcHRpb24oKX0gfCBkdWU6ICR7dGFzay5nZXREYXRlKCl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSdkZWwtJHt0YXNrLmdldElEKCl9Jz5kZWxldGU8L2J1dHRvbj5gXG5cblxuICAgICAgICBjb25zdCBub2RlcyA9IHRhc2tET01FbGVtZW50LmNoaWxkTm9kZXNcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobm9kZXNbaV0uc3R5bGUpIHtcbiAgICAgICAgICAgICAgICBub2Rlc1tpXS5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdpbmxpbmUnKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaW5ib3guaW5zZXJ0QmVmb3JlKHRhc2tET01FbGVtZW50LCBhZGRUYXNrQnRuKVxuICAgICAgICBkZXNjcmlwdGlvbi52YWx1ZSA9IFwiXCJcbiAgICAgICAgZHVlRGF0ZS52YWx1ZSA9IFwiXCJcbiAgICAgICAgZm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuXG4gICAgICAgIEluYm94VGFiLmFkZFRvVG9kYXkodGFzaywgcHJvamVjdClcbiAgICAgICAgSW5ib3hUYWIuYWRkVG9XZWVrKHRhc2ssIHByb2plY3QpXG4gICAgICAgIEluYm94VGFiLmRlbGV0ZVRhc2sodGFzay5nZXRJRCgpLCBwcm9qZWN0KVxuICAgICAgICBJbmJveFRhYi5jaGVja0RvbmUoaXNEb25lLCBwcm9qZWN0LCB0YXNrKVxuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGVGb3JtKCkge1xuICAgICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpXG4gICAgICAgIGNvbnN0IGluYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luYm94JylcbiAgICAgICAgZm9ybS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgICAgPGZvcm0gYWN0aW9uPVwiI1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cInRhc2stZGVzY3JpcHRpb25cIiBuYW1lPVwiZGVzY3JpcHRpb25cIiBwbGFjZWhvbGRlcj1cInRhc2tcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBpZD1cImR1ZURhdGVcIiBuYW1lPVwiZHVlRGF0ZVwiIHBsYWNlaG9sZGVyPVwiZHVlIGRhdGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBpZD1cImluYm94LXN1Ym1pdC1idG5cIj5TdWJtaXQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJpbmJveC1jYW5jZWwtYnRuXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgYFxuICAgICAgICBmb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgICAgIGZvcm0uaWQgPSAnaW5ib3gtZm9ybSdcbiAgICAgICAgaW5ib3guYXBwZW5kQ2hpbGQoZm9ybSlcbiAgICB9XG5cbiAgICBzdGF0aWMgZm9ybVBvcFVwKCkge1xuICAgICAgICBjb25zdCBhZGRUYXNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC10YXNrJylcbiAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmJveC1mb3JtJylcblxuICAgICAgICBhZGRUYXNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgYWRkVGFza0J0bi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgICAgICAgICAgZm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyBzdWJtaXRUb0luYm94KCkge1xuICAgICAgICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5ib3gtc3VibWl0LWJ0bicpXG4gICAgICAgIGNvbnN0IGFkZFRhc2tCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLXRhc2snKVxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrLWRlc2NyaXB0aW9uJylcbiAgICAgICAgY29uc3QgZHVlRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkdWVEYXRlJylcbiAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmJveC1mb3JtJylcbiAgICAgICAgY29uc3QgaW5ib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5ib3gnKVxuXG4gICAgICAgIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICAgICAgYWRkVGFza0J0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuXG4gICAgICAgICAgICBpZiAoZGVzY3JpcHRpb24udmFsdWUgPT09IFwiXCIgfHwgZHVlRGF0ZS52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgIEluYm94VGFiLmNoZWNrRmllbGRzKGFkZFRhc2tCdG4sIGluYm94KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoSW5ib3hUYWIuZGVmYXVsdFByb2plY3QuZ2V0VGFza3MoKS5zb21lKHRhc2sgPT4gdGFzay5nZXREZXNjcmlwdGlvbigpID09PSBkZXNjcmlwdGlvbi52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBhbGVydChcIlRoaXMgdG9kbyBhbHJlYWR5IGV4aXN0cyFcIilcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbi52YWx1ZSA9IFwiXCJcbiAgICAgICAgICAgICAgICBkdWVEYXRlLnZhbHVlID0gXCJcIlxuICAgICAgICAgICAgICAgIGZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBuZXcgVGFzayhkZXNjcmlwdGlvbi52YWx1ZSwgZHVlRGF0ZS52YWx1ZSlcbiAgICAgICAgICAgICAgICBJbmJveFRhYi5kZWZhdWx0UHJvamVjdC5hZGRUYXNrKHRhc2spXG4gICAgICAgICAgICAgICAgSW5ib3hUYWIucmVuZGVyVGFza3ModGFzaywgdGhpcy5kZWZhdWx0UHJvamVjdCwgaW5ib3gsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBmb3JtLCBhZGRUYXNrQnRuKVxuICAgICAgICAgICAgICAgIEluYm94VGFiLnN0b3JhZ2VVcGRhdGVQcm9qZWN0KHRoaXMuZGVmYXVsdFByb2plY3QpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIGFkZFRvVG9kYXkodGFzaywgcHJvamVjdCkge1xuICAgICAgICBjb25zdCB0YWJDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZGF5LWNvbnRlbnQnKVxuXG4gICAgICAgIGNvbnN0IHRhc2tDbG9uZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIGNvbnN0IGlzRG9uZSA9IGAke3Rhc2suZ2V0RGVzY3JpcHRpb24oKX0gJHt0YXNrLmdldENvbXBsZXRlZCgpfS1jbG9uZWBcbiAgICAgICAgdGFza0Nsb25lLmlkID0gYCR7dGFzay5nZXRJRCgpfS1jbG9uZWBcbiAgICAgICAgdGFza0Nsb25lLmlubmVySFRNTCA9IGA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCIke2lzRG9uZX1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+JHt0YXNrLmdldERlc2NyaXB0aW9uKCl9IHwgZHVlOiAke3Rhc2suZ2V0RGF0ZSgpfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0nZGVsLSR7dGFzay5nZXRJRCgpfS1jbG9uZSc+ZGVsZXRlPC9idXR0b24+YFxuXG4gICAgICAgIGNvbnN0IG5vZGVzID0gdGFza0Nsb25lLmNoaWxkTm9kZXNcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobm9kZXNbaV0uc3R5bGUpIHtcbiAgICAgICAgICAgICAgICBub2Rlc1tpXS5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdpbmxpbmUnKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBwcm9qZWN0LmdldFRhc2tzKCkuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRheSA9IE51bWJlcih0YXNrLmR1ZURhdGUuc2xpY2UoLTIpKVxuICAgICAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpXG4gICAgICAgICAgICBjb25zdCBkYXlUb2RheSA9IHRvZGF5LmdldERhdGUoKVxuICAgICAgICAgICAgaWYgKGRheSA9PT0gZGF5VG9kYXkgJiYgIVByb2plY3RzVUkudG9kYXlDb2xsZWN0aW9uLmluY2x1ZGVzKHRhc2spKSB7XG4gICAgICAgICAgICAgICAgUHJvamVjdHNVSS50b2RheUNvbGxlY3Rpb24ucHVzaCh0YXNrKVxuICAgICAgICAgICAgICAgIHRhYkNvbnRlbnQuYXBwZW5kQ2hpbGQodGFza0Nsb25lKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyBhZGRUb1dlZWsodGFzaywgcHJvamVjdCkge1xuICAgICAgICBjb25zdCB0YWJDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoaXMtd2Vlay1jb250ZW50JylcblxuICAgICAgICBjb25zdCB0YXNrQ2xvbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBjb25zdCBpc0RvbmUgPSBgJHt0YXNrLmdldERlc2NyaXB0aW9uKCl9ICR7dGFzay5nZXRDb21wbGV0ZWQoKX0tY2xvbmUtd2Vla2BcbiAgICAgICAgdGFza0Nsb25lLmlkID0gYCR7dGFzay5nZXRJRCgpfS1jbG9uZS13ZWVrYFxuICAgICAgICB0YXNrQ2xvbmUuaW5uZXJIVE1MID0gYDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cIiR7aXNEb25lfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4ke3Rhc2suZ2V0RGVzY3JpcHRpb24oKX0gfCBkdWU6ICR7dGFzay5nZXREYXRlKCl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSdkZWwtJHt0YXNrLmdldElEKCl9LWNsb25lLXdlZWsnPmRlbGV0ZTwvYnV0dG9uPmBcblxuICAgICAgICBjb25zdCBub2RlcyA9IHRhc2tDbG9uZS5jaGlsZE5vZGVzXG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG5vZGVzW2ldLnN0eWxlKSB7XG4gICAgICAgICAgICAgICAgbm9kZXNbaV0uc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnaW5saW5lJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb2plY3QuZ2V0VGFza3MoKS5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF5ID0gTnVtYmVyKHRhc2suZHVlRGF0ZS5zbGljZSgtMikpXG4gICAgICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKClcbiAgICAgICAgICAgIGNvbnN0IGRheVRvZGF5ID0gdG9kYXkuZ2V0RGF0ZSgpXG4gICAgICAgICAgICBpZiAoKGRheSAtIGRheVRvZGF5KSA8PSA3ICYmICFQcm9qZWN0c1VJLndlZWtDb2xsZWN0aW9uLmluY2x1ZGVzKHRhc2spKSB7XG4gICAgICAgICAgICAgICAgUHJvamVjdHNVSS53ZWVrQ29sbGVjdGlvbi5wdXNoKHRhc2spXG4gICAgICAgICAgICAgICAgdGFiQ29udGVudC5hcHBlbmRDaGlsZCh0YXNrQ2xvbmUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIGNoZWNrRG9uZShpc0RvbmUsIHByb2plY3QsIHRhc2spIHtcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpc0RvbmUpXG4gICAgICAgIGNvbnN0IGNoZWNrYm94Q2xvbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtpc0RvbmV9LWNsb25lYClcbiAgICAgICAgY29uc3QgY2hlY2tib3hDbG9uZVdlZWsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtpc0RvbmV9LWNsb25lLXdlZWtgKVxuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRhc2suZ2V0Q29tcGxldGVkKCkpIHtcbiAgICAgICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gdHJ1ZVxuICAgICAgICAgICAgICAgIGNoZWNrYm94LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ2xpbmUtdGhyb3VnaCcpXG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94Q2xvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5jaGVja2VkID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lLnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ2xpbmUtdGhyb3VnaCcpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGVja2JveENsb25lV2Vlaykge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lV2Vlay5jaGVja2VkID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lV2Vlay5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdsaW5lLXRocm91Z2gnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgY2hlY2tib3gucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbm9uZScpXG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94Q2xvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5jaGVja2VkID0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdub25lJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94Q2xvbmVXZWVrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmVXZWVrLmNoZWNrZWQgPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lV2Vlay5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdub25lJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICBjaGVja2JveC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdsaW5lLXRocm91Z2gnKVxuICAgICAgICAgICAgICAgIGlmIChjaGVja2JveENsb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmUuY2hlY2tlZCA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdsaW5lLXRocm91Z2gnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hDbG9uZVdlZWspIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZVdlZWsuY2hlY2tlZCA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZVdlZWsucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbGluZS10aHJvdWdoJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoZWNrYm94LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ25vbmUnKVxuICAgICAgICAgICAgICAgIGlmIChjaGVja2JveENsb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmUuY2hlY2tlZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmUucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbm9uZScpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGVja2JveENsb25lV2Vlaykge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lV2Vlay5jaGVja2VkID0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZVdlZWsucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbm9uZScpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFzay5zZXRDb21wbGV0ZWQoKVxuICAgICAgICAgICAgSW5ib3hUYWIuc3RvcmFnZVVwZGF0ZVByb2plY3QocHJvamVjdClcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoY2hlY2tib3hDbG9uZSkge1xuICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94Q2xvbmUuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lLnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ2xpbmUtdGhyb3VnaCcpXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ2xpbmUtdGhyb3VnaCcpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdub25lJylcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ25vbmUnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0YXNrLnNldENvbXBsZXRlZCgpXG4gICAgICAgICAgICAgICAgSW5ib3hUYWIuc3RvcmFnZVVwZGF0ZVByb2plY3QocHJvamVjdClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hlY2tib3hDbG9uZVdlZWspIHtcbiAgICAgICAgICAgIGNoZWNrYm94Q2xvbmVXZWVrLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hDbG9uZVdlZWsuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lV2Vlay5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdsaW5lLXRocm91Z2gnKVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdsaW5lLXRocm91Z2gnKVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3hDbG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5jaGVja2VkID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZS5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdsaW5lLXRocm91Z2gnKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hDbG9uZVdlZWsucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0eWxlLnNldFByb3BlcnR5KCd0ZXh0LWRlY29yYXRpb24nLCAnbm9uZScpXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMl0uc3R5bGUuc2V0UHJvcGVydHkoJ3RleHQtZGVjb3JhdGlvbicsICdub25lJylcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrYm94Q2xvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94Q2xvbmUuY2hlY2tlZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveENsb25lLnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHlsZS5zZXRQcm9wZXJ0eSgndGV4dC1kZWNvcmF0aW9uJywgJ25vbmUnKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhc2suc2V0Q29tcGxldGVkKClcbiAgICAgICAgICAgICAgICBJbmJveFRhYi5zdG9yYWdlVXBkYXRlUHJvamVjdChwcm9qZWN0KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBkZWxldGVUYXNrKGlkLCBwcm9qZWN0KSB7XG4gICAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBkZWwtJHtpZH1gKVxuICAgICAgICBjb25zdCBidG5DbG9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBkZWwtJHtpZH0tY2xvbmVgKVxuICAgICAgICBjb25zdCBidG5DbG9uZVdlZWsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZGVsLSR7aWR9LWNsb25lLXdlZWtgKVxuXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpXG4gICAgICAgICAgICBpZiAoYnRuQ2xvbmUpIHtcbiAgICAgICAgICAgICAgICBidG5DbG9uZS5wYXJlbnRFbGVtZW50LnJlbW92ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnRuQ2xvbmVXZWVrKSB7XG4gICAgICAgICAgICAgICAgYnRuQ2xvbmVXZWVrLnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb2plY3QuZ2V0VGFza3MoKVxuICAgICAgICAgICAgICAgIC5zcGxpY2UocHJvamVjdC5nZXRUYXNrcygpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kSW5kZXgoXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrID0+IHRhc2suZ2V0SUQoKSA9PT0gaWRcbiAgICAgICAgICAgICAgICAgICAgKSwgMSlcbiAgICAgICAgICAgIEluYm94VGFiLnN0b3JhZ2VVcGRhdGVQcm9qZWN0KHByb2plY3QpXG4gICAgICAgIH0pXG4gICAgICAgIGlmIChidG5DbG9uZSkge1xuICAgICAgICAgICAgYnRuQ2xvbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgICAgICBidG4ucGFyZW50RWxlbWVudC5yZW1vdmUoKVxuICAgICAgICAgICAgICAgIGlmIChidG5DbG9uZVdlZWspIHtcbiAgICAgICAgICAgICAgICAgICAgYnRuQ2xvbmVXZWVrLnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJvamVjdC5nZXRUYXNrcygpXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpY2UocHJvamVjdC5nZXRUYXNrcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZEluZGV4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sgPT4gdGFzay5nZXRJRCgpID09PSBpZFxuICAgICAgICAgICAgICAgICAgICAgICAgKSwgMSlcbiAgICAgICAgICAgICAgICBJbmJveFRhYi5zdG9yYWdlVXBkYXRlUHJvamVjdChwcm9qZWN0KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnRuQ2xvbmVXZWVrKSB7XG4gICAgICAgICAgICBidG5DbG9uZVdlZWsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgICAgICBidG4ucGFyZW50RWxlbWVudC5yZW1vdmUoKVxuICAgICAgICAgICAgICAgIGlmIChidG5DbG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBidG5DbG9uZS5wYXJlbnRFbGVtZW50LnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb2plY3QuZ2V0VGFza3MoKVxuICAgICAgICAgICAgICAgICAgICAuc3BsaWNlKHByb2plY3QuZ2V0VGFza3MoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrID0+IHRhc2suZ2V0SUQoKSA9PT0gaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICksIDEpXG4gICAgICAgICAgICAgICAgSW5ib3hUYWIuc3RvcmFnZVVwZGF0ZVByb2plY3QocHJvamVjdClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgY2hlY2tGaWVsZHMoYWRkVGFza0J0biwgaW5ib3gpIHtcbiAgICAgICAgY29uc3QgYWxlcnRFeGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVtcHR5LWFsZXJ0XCIpXG5cbiAgICAgICAgYWRkVGFza0J0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpXG5cbiAgICAgICAgaWYgKGFsZXJ0RXhpc3RzKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5vdGlmeUZpZWxkcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICAgICAgICBub3RpZnlGaWVsZHMudGV4dENvbnRlbnQgPSBcIlBsZWFzZSBlbnRlciB0aGUgZGVzY3JpcHRpb24gYW5kIGR1ZSBkYXRlIG9mIHRoZSB0YXNrLlwiXG4gICAgICAgIG5vdGlmeUZpZWxkcy5jbGFzc0xpc3QuYWRkKCdlbXB0eS1hbGVydCcpXG5cbiAgICAgICAgaW5ib3guYXBwZW5kQ2hpbGQobm90aWZ5RmllbGRzKVxuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaW5ib3gucmVtb3ZlQ2hpbGQobm90aWZ5RmllbGRzKVxuICAgICAgICB9LCAyMDAwKVxuICAgIH1cblxuICAgIHN0YXRpYyBjYW5jZWxGb3JtKCkge1xuICAgICAgICBjb25zdCBjYW5jZWxUYXNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luYm94LWNhbmNlbC1idG4nKVxuICAgICAgICBjb25zdCBhZGRUYXNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC10YXNrJylcbiAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmJveC1mb3JtJylcblxuICAgICAgICBjYW5jZWxUYXNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgYWRkVGFza0J0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgICAgICAgICAgZm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgICAgICB9KVxuICAgIH1cbn0iLCJpbXBvcnQgSW5ib3hVSSBmcm9tICcuL0luYm94VUknXG5pbXBvcnQgUHJvamVjdHNVSSBmcm9tICcuL1Byb2plY3RzVUknXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJIHtcbiAgICBzdGF0aWMgbG9hZEhvbWVwYWdlKCkge1xuICAgICAgICBVSS5zd2l0Y2hDYXRlZ29yeSgpXG5cbiAgICAgICAgSW5ib3hVSS5pbml0aWFsaXplSW5ib3hUYWIoKVxuICAgICAgICBQcm9qZWN0c1VJLmluaXRpYWxpemVQcm9qZWN0c1RhYigpXG4gICAgfVxuXG4gICAgc3RhdGljIHN3aXRjaENhdGVnb3J5KCkge1xuICAgICAgICBjb25zdCB0YWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdGFiLXRhcmdldF0nKVxuICAgICAgICBjb25zdCB0YWJDb250ZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRhYi1jb250ZW50XScpXG5cbiAgICAgICAgdGFicy5mb3JFYWNoKHRhYiA9PiB7XG4gICAgICAgICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFiLmRhdGFzZXQudGFiVGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB0YWJDb250ZW50cy5mb3JFYWNoKHRhYkNvbnRlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0YWJDb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxufSIsImltcG9ydCAnLi9zdHlsZS5jc3MnXG5pbXBvcnQgVUkgZnJvbSAnLi9tb2R1bGVzL0luaXRpYWxpemVVSSc7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBVSS5sb2FkSG9tZXBhZ2UpOyJdLCJzb3VyY2VSb290IjoiIn0=